format 224
"Reconstr" // App::Reconstr
  revision 296
  modified_by 6 "root"
  // class settings
  
  classdiagramsettings member_max_width 0 end
  
  classcompositediagramsettings end
  
  usecasediagramsettings end
  
  sequencediagramsettings end
  
  collaborationdiagramsettings end
  
  objectdiagramsettings end
  
  objectcompositediagramsettings end
  
  componentdiagramsettings
   end
  
  deploymentdiagramsettings
   end
  
  statediagramsettings
   end
  
  activitydiagramsettings
   end
  
  cpp_h_dir "cpp/reconstructor"
  cpp_src_dir "cpp/reconstructor"
  cpp_namespace "oberon::reconstructor"
  classview 134534 "Message Hierarchy"
    
    classdiagramsettings member_max_width 0 end
    
    classcompositediagramsettings end
    
    collaborationdiagramsettings end
    
    objectdiagramsettings end
    
    objectcompositediagramsettings end
    
    sequencediagramsettings end
    
    statediagramsettings
     end
    
    
    activitydiagramsettings
     end
    classdiagram 552070 "Message hierarchy for process"
      classdiagramsettings hide_attributes yes hide_operations yes member_max_width 0 end
      size A4
    end

    class 271366 "BookSide"
      visibility public stereotype "enum"
      cpp_decl "${comment}enum ${name} {
${items}};
"
      java_decl "${comment}${@}${visibility}${static}${final}${abstract}enum ${name}${implements} {
${items};
${members}}
"
      php_decl "${comment}${visibility}final class ${name} {
${items}}
"
      python_2_2 python_decl "class ${name}:
${docstring}${members}
"
      idl_decl "${comment}enum ${name} {
${items}};
"
      explicit_switch_type ""
      mysql_decl ""
      
      attribute 204294 "kBid"
	public type class_ref 271366 // BookSide
	cpp_decl "  ${name}${value},${comment}"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 204422 "kAsk"
	public type class_ref 271366 // BookSide
	cpp_decl "  ${name}${value},${comment}"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 465670 "kBookSideNA"
	public type class_ref 271366 // BookSide
	cpp_decl "  ${name}${value},${comment}"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end
    end

    class 305542 "Price"
      visibility public 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl "${comment}${@}${visibility}${static}${final}${abstract}class ${name}${extends}${implements} {
${members}}
"
      php_decl "${comment}${final}${abstract}class ${name}${extends}${implements} {
${members}}
"
      python_2_2 python_decl "class ${name}${inherit}:
${docstring}${members}
"
      idl_decl "${comment}${abstract}${custom}valuetype ${name}${inherit} {
${members}};
"
      explicit_switch_type ""
      mysql_decl ""
      
      attribute 569350 "kPricePrecision"
	class_attribute const_attribute private explicit_type "double"
	init_value "0.000001"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 569478 "kPricePrecisionFraction"
	class_attribute const_attribute private explicit_type "double"
	init_value "kPricePrecision/4"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 569222 "price_"
	private explicit_type "double"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 879110 "Price"
	public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw}: price_ {0.0} {
  ${body}}
"
	
	
	
	
      end

      operation 879238 "Price"
	public explicit_return_type ""
	nparams 1
	  param in name "price" explicit_type "double"
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${t0} ${p0}${v0}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${t0} ${p0}${)}${volatile}${throw}: price_ {price} {
  ${body}}
"
	
	
	
	
      end

      operation 879366 "operator =="
	const cpp_inline public explicit_return_type "bool"
	nparams 1
	  param in name "other" type class_ref 305542 // Price
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 879494 "operator <"
	const cpp_inline public explicit_return_type "bool"
	nparams 1
	  param in name "other" type class_ref 305542 // Price
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 879622 "operator >"
	const cpp_inline public explicit_return_type "bool"
	nparams 1
	  param in name "other" type class_ref 305542 // Price
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 879750 "operator double"
	const cpp_inline public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 879878 "alignUp"
	const public return_type class_ref 305542 // Price
	nparams 1
	  param in name "tick_size" explicit_type "double"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 880006 "alignDown"
	const cpp_inline public return_type class_ref 305542 // Price
	nparams 1
	  param in name "tick_size" explicit_type "double"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      classrelation 747910 // <dependency>
	relation 737798 -_->
	  a public
	    cpp default "#include in header"
	    classrelation_ref 747910 // <dependency>
	  b parent class_ref 564358 // cmath
      end
    end

    class 305798 "Volume"
      visibility public stereotype "typedef" explicit_base_type "double"
      cpp_decl "${comment}typedef ${type} ${name};
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl "${comment}typedef ${type} ${name};
"
      explicit_switch_type ""
      mysql_decl ""
      
    end

    classdiagram 307590 "Message Hierarchy Overview"
      classdiagramsettings hide_attributes yes hide_operations yes member_max_width 0 end
      size A-Landscape
    end

    classdiagram 161030 "Message Hierarchy Detailed"
      classdiagramsettings member_max_width 0 end
      size B
    end

    class 1067398 "Security"
      visibility public 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl "${comment}${abstract}${custom}valuetype ${name}${inherit} {
${members}};
"
      explicit_switch_type ""
      mysql_decl ""
      
      class 1067526 "Security_SP"
	visibility public stereotype "template_typedef"
	nactuals 1
	actual class class_ref 852614 // shared_ptr
	  rank 0 value class_ref 1067398 // Security
	cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 1238278 // <realization>
	  relation 1227910 -_-|>
	    stereotype "bind"
	    a public
	      cpp default "${type}"
	      classrelation_ref 1238278 // <realization>
	    b parent class_ref 852614 // shared_ptr
	end
      end

      attribute 951558 "exchange_"
	const_attribute private explicit_type "string"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 951686 "product_"
	const_attribute private explicit_type "string"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 951430 "quote_increment_"
	const_attribute private type class_ref 305542 // Price
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 820102 "base_increment_"
	const_attribute private type class_ref 305798 // Volume
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 1579142 "Security"
	public explicit_return_type ""
	nparams 4
	  param in name "exchange" explicit_type "string"
	  param in name "product" explicit_type "string"
	  param in name "quote_increment" type class_ref 305542 // Price
	  param in name "base_increment" type class_ref 305798 // Volume
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}, const ${t1} & ${p1}${v1}, const ${t2} & ${p2}${v2}, const ${t3} & ${p3}${v3}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}, const ${t1} & ${p1}, const ${t2} & ${p2}, const ${t3} & ${p3}${)}${volatile}${throw} : exchange_{exchange}, product_{product}, quote_increment_{quote_increment}, base_increment_{base_increment} {
  ${body}}
"
	
	
	
	
      end

      operation 1579270 "exchange"
	const cpp_inline public explicit_return_type "string"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1579398 "product"
	const cpp_inline public explicit_return_type "string"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1579526 "quote"
	const cpp_inline public return_type class_ref 305542 // Price
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1579654 "base"
	const cpp_inline public return_type class_ref 305798 // Volume
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end
    end

    class 245766 "Message"
      abstract visibility public 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      class 902918 "Message_UP"
	visibility public stereotype "template_typedef"
	nactuals 1
	actual class class_ref 889478 // unique_ptr
	  rank 0 value class_ref 245766 // Message
	cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 1027334 // <realization>
	  relation 1016966 -_-|>
	    stereotype "bind"
	    a public
	      cpp default "${type}"
	      classrelation_ref 1027334 // <realization>
	    b parent class_ref 889478 // unique_ptr
	end
      end

      class 230278 "Timestamp"
	visibility public stereotype "typedef" base_type class_ref 514822 // time_point
	nactuals 2
	actual class class_ref 514822 // time_point
	  rank 0 value class_ref 514694 // system_clock
	actual class class_ref 514822 // time_point
	  rank 1 value class_ref 514950 // microseconds
	cpp_decl "${comment}typedef ${type} ${name};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl "${comment}typedef ${type} ${name};
"
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 561286 // <realization>
	  relation 551174 -_-|>
	    stereotype "bind"
	    a public
	      cpp default "${type}"
	      classrelation_ref 561286 // <realization>
	    b parent class_ref 514822 // time_point
	end
      end

      attribute 547974 "is_deleted_"
	private explicit_type "bool"
	init_value "false"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 398982 "timestamp_"
	private type class_ref 230278 // Timestamp
	multiplicity "1"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 648966 "toString"
	const cpp_virtual public explicit_return_type "string"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 485510 "accept"
	abstract const cpp_virtual public explicit_return_type "bool"
	nparams 1
	  param in name "mh" type class_ref 441222 // MessageHandler
	multiplicity "1"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0}* ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	
	
	
	
      end

      operation 597126 "~Message"
	cpp_virtual public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
      end

      operation 1277446 "timestamp"
	const cpp_inline public return_type class_ref 230278 // Timestamp
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1446662 "timestamp"
	public explicit_return_type "void"
	nparams 1
	  param in name "timestamp" type class_ref 230278 // Timestamp
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1277574 "deleted"
	const cpp_inline public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1277702 "deleted"
	public explicit_return_type "void"
	nparams 1
	  param in name "is_deleted" explicit_type "bool"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1588742 "Message"
	public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw}=default;
"
	
	
	
	
      end

      operation 1588870 "Message"
	public explicit_return_type ""
	nparams 2
	  param in name "t" type class_ref 230278 // Timestamp
	  param in name "d" explicit_type "bool"
	    defaultvalue "false"
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}, ${t1} ${p1}${v1}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}, ${t1} ${p1}${)}${volatile}${throw}:is_deleted_{d}, timestamp_{t}{
  ${body}}
"
	
	
	
	
      end
    end

    class 903046 "Messages"
      visibility package stereotype "template_typedef"
      nactuals 1
      actual class class_ref 1115142 // list
        rank 0 value class_ref 902918 // Message_UP
      cpp_decl "${comment}${template}using ${name} = ${inherit};
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      classrelation 1335686 // <realization>
	relation 1325318 -_-|>
	  stereotype "bind"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1335686 // <realization>
	  b parent class_ref 1115142 // list
      end
    end

    class 521478 "Era"
      visibility public 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      classrelation 568326 // <generalisation>
	relation 558214 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 568326 // <generalisation>
	  b parent class_ref 245766 // Message
      end

      operation 642182 "accept"
	const cpp_override public explicit_return_type "bool"
	nparams 1
	  param in name "mh" type class_ref 441222 // MessageHandler
	multiplicity "1"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0}* ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0}* ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 642310 "Era"
	public explicit_return_type ""
	nparams 5
	  param in name "era" type class_ref 230278 // Timestamp
	  param in name "exchange" explicit_type "string"
	  param in name "product" explicit_type "string"
	  param in name "quote_increment" type class_ref 305542 // Price
	  param in name "base_increment" type class_ref 305798 // Volume
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}, const ${t1} & ${p1}${v1}, const ${t2} & ${p2}${v2}, const ${t3} & ${p3}${v3}, const ${t4} & ${p4}${v4}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}, const ${t1} & ${p1}, const ${t2} & ${p2}, const ${t3} & ${p3}, const ${t4} & ${p4}${)}${volatile}${throw}: Message{era}, security_{boost::make_shared<Security>(exchange, product, quote_increment, base_increment)} {
  ${body}}
"
	
	
	
	
      end

      operation 1728006 "Era"
	public explicit_return_type ""
	nparams 2
	  param in name "era" type class_ref 230278 // Timestamp
	  param in name "security" type class_ref 1067526 // Security_SP
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}, const ${t1} & ${p1}${v1}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}, const ${t1} & ${p1}${)}${volatile}${throw}: Message{era}, security_{security} {
  ${body}}
"
	
	
	
	
      end

      operation 1721350 "Era"
	public explicit_return_type ""
	nparams 1
	  param in name "line" explicit_type "string"
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
      end

      operation 642438 "~Era"
	cpp_virtual public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
      end

      operation 650246 "toString"
	const cpp_override public explicit_return_type "string"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      classrelation 1252102 // security_ (<directional aggregation>)
	relation 1241734 o-->
	  stereotype "shared_ptr"
	  a role_name "security_" multiplicity "1" private
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<${type}> ${name}${value};
"
	    classrelation_ref 1252102 // security_ (<directional aggregation>)
	  b multiplicity "*" parent class_ref 1067398 // Security
      end

      operation 1579782 "security"
	const cpp_inline public return_type class_ref 1067526 // Security_SP
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end
    end

    class 1087494 "PriceLevelAttached"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      attribute 414726 "side_"
	private type class_ref 271366 // BookSide
	init_value "kBookSideNA"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 1264262 "price"
	const cpp_inline public return_type class_ref 305542 // Price
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1447046 "price"
	public explicit_return_type "void"
	nparams 1
	  param in name "price" type class_ref 305542 // Price
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      attribute 414598 "price_"
	private type class_ref 305542 // Price
	init_value "kNaPrice"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 1263494 "remaining"
	const public return_type class_ref 305798 // Volume
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1263622 "remaining"
	cpp_virtual public explicit_return_type "void"
	nparams 1
	  param in name "remaining_size" type class_ref 305798 // Volume
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1270918 "side"
	const cpp_inline public return_type class_ref 271366 // BookSide
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1446918 "side"
	public explicit_return_type "void"
	nparams 1
	  param in name "side" type class_ref 271366 // BookSide
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      attribute 406022 "remaining_size_"
	private type class_ref 305798 // Volume
	init_value "kNaVolume"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 465030 "kNaVolume"
	class_attribute const_attribute public type class_ref 305798 // Volume
	init_value "std::nan(\"1954\")"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 465286 "kNaPrice"
	class_attribute const_attribute public type class_ref 305798 // Volume
	init_value "std::nan(\"1954\")"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 1588998 "PriceLevelAttached"
	public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} = default;
"
	
	
	
	
      end

      operation 1589126 "PriceLevelAttached"
	public explicit_return_type ""
	nparams 4
	  param in name "p" type class_ref 305542 // Price
	  param in name "v" type class_ref 305798 // Volume
	  param in name "s" type class_ref 271366 // BookSide
	  param in name "d" explicit_type "bool"
	    defaultvalue "false"
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}, const ${t1} & ${p1}${v1}, const ${t2} & ${p2}${v2}, ${t3} ${p3}${v3}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}, const ${t1} & ${p1}, const ${t2} & ${p2}, ${t3} ${p3}${)}${volatile}${throw} : side_{s}, price_{p}, remaining_size_{v} {
  ${body}}
"
	
	
	
	
      end

      operation 1596678 "removeTrailingZeros"
	class_operation cpp_inline protected explicit_return_type "string"
	nparams 1
	  param in name "str" explicit_type "string"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} && ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} && ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end
    end

    class 448390 "OrderEvent"
      visibility protected 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      class 306822 "OrderId"
	visibility public stereotype "typedef" base_type class_ref 472582 // uuid
	cpp_decl "${comment}typedef ${type} ${name};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl "${comment}typedef ${type} ${name};
"
	explicit_switch_type ""
	mysql_decl ""
	
      end

      class 551174 "TradeId"
	visibility public stereotype "typedef" explicit_base_type "long long"
	cpp_decl "${comment}typedef ${type} ${name};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl "${comment}typedef ${type} ${name};
"
	explicit_switch_type ""
	mysql_decl ""
	
      end

      class 507142 "Ordinal"
	visibility public stereotype "typedef" explicit_base_type "long"
	cpp_decl "${comment}typedef ${type} ${name};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl "${comment}typedef ${type} ${name};
"
	explicit_switch_type ""
	mysql_decl ""
	
      end

      class 299014 "OrderState"
	visibility public stereotype "enum"
	cpp_decl "${comment}enum ${name} {
${items}};
"
	java_decl "${comment}${@}${visibility}${static}${final}${abstract}enum ${name}${implements} {
${items};
${members}}
"
	php_decl "${comment}${visibility}final class ${name} {
${items}}
"
	python_2_2 python_decl "class ${name}:
${docstring}${members}
"
	idl_decl "${comment}enum ${name} {
${items}};
"
	explicit_switch_type ""
	mysql_decl ""
	
	attribute 473350 "kActive"
	  public type class_ref 299014 // OrderState
	  init_value "1"
	  cpp_decl "  ${name}${value},${comment}"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	end

	attribute 473478 "kFinished"
	  public type class_ref 299014 // OrderState
	  init_value "0"
	  cpp_decl "  ${name}${value},${comment}"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	end

	attribute 473606 "kNA"
	  public type class_ref 299014 // OrderState
	  init_value "std::numeric_limits<std::int32_t>::min()"
	  cpp_decl "  ${name}${value},${comment}"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	end
      end

      class 1040262 "OrderEvent_UP"
	visibility public stereotype "template_typedef"
	nactuals 1
	actual class class_ref 889478 // unique_ptr
	  rank 0 value class_ref 448390 // OrderEvent
	cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 1182598 // <realization>
	  relation 1172230 -_-|>
	    stereotype "bind"
	    a public
	      cpp default "${type}"
	      classrelation_ref 1182598 // <realization>
	    b parent class_ref 889478 // unique_ptr
	end
      end

      class 1136134 "OrderEvent_SP"
	visibility public stereotype "template_typedef"
	nactuals 1
	actual class class_ref 852614 // shared_ptr
	  rank 0 value class_ref 448390 // OrderEvent
	cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 1352198 // <realization>
	  relation 1341830 -_-|>
	    stereotype "bind"
	    a public
	      cpp default "${type}"
	      classrelation_ref 1352198 // <realization>
	    b parent class_ref 852614 // shared_ptr
	end
      end

      attribute 465414 "kNaOrderId"
	class_attribute const_attribute public type class_ref 306822 // OrderId
	init_value "boost::uuids::random_generator()()"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      classrelation 459526 // <generalisation>
	relation 449542 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 459526 // <generalisation>
	  b parent class_ref 245766 // Message
      end

      attribute 472838 "taker_order_id_"
	private type class_ref 306822 // OrderId
	init_value "boost::uuids::nil_uuid()"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 405894 "order_id_"
	private type class_ref 306822 // OrderId
	init_value "kNaOrderId"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 473094 "trade_id_"
	private type class_ref 551174 // TradeId
	init_value "0"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 437382 "change_size_"
	private type class_ref 305798 // Volume
	init_value "kNaVolume"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
	comment "previous remaining_size_ - current remaining _size_, i.e. positive, if the remaining size decreased."
      end

      attribute 1028614 "change_price_"
	private type class_ref 305542 // Price
	init_value "kNaPrice"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 1028486 "change_timestamp_"
	private type class_ref 514950 // microseconds
	init_value "std::chrono::microseconds{-1}"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 414470 "ordinal_"
	private type class_ref 507142 // Ordinal
	init_value "0"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 819974 "state_"
	private type class_ref 299014 // OrderState
	init_value "OrderState::kNA"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 473734 "heard_"
	private type class_ref 230278 // Timestamp
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 826630 "source_"
	private explicit_type "string"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 1475078 "clone"
	cpp_virtual public return_type class_ref 1040262 // OrderEvent_UP
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1646470 "toString"
	const cpp_override public explicit_return_type "string"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 650374 "toCsv"
	const public explicit_return_type "string"
	nparams 3
	  param in name "quote_precision" explicit_type "int"
	  param in name "base_precision" explicit_type "int"
	  param inout name "latest_seconds" type class_ref 1006598 // seconds
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} ${p0}${v0}, ${t1} ${p1}${v1}, ${t2} * ${p2}${v2}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} ${p0}, ${t1} ${p1}, ${t2} * ${p2}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1285510 "accept"
	const cpp_override public explicit_return_type "bool"
	nparams 1
	  param in name "mh" type class_ref 441222 // MessageHandler
	multiplicity "1"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0}* ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0}* ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1263238 "maker"
	const cpp_inline public return_type class_ref 306822 // OrderId
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1263366 "maker"
	cpp_inline public explicit_return_type "void"
	nparams 1
	  param in name "order_id" type class_ref 306822 // OrderId
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1263750 "change"
	const cpp_inline public return_type class_ref 305798 // Volume
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1263878 "change"
	cpp_inline public explicit_return_type "void"
	nparams 1
	  param in name "change_size" type class_ref 305798 // Volume
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1264006 "ordinal"
	const cpp_inline public return_type class_ref 507142 // Ordinal
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1264134 "ordinal"
	cpp_inline public explicit_return_type "void"
	nparams 1
	  param in name "ordinal" type class_ref 507142 // Ordinal
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1264390 "heard"
	const cpp_inline public return_type class_ref 230278 // Timestamp
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	comment "A timestamp of the moment when the applications heard about  the event  for the first time since it happened on an exchange"
      end

      operation 1446790 "heard"
	public explicit_return_type "void"
	nparams 1
	  param in name "timestamp" type class_ref 230278 // Timestamp
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1277830 "taker"
	const cpp_inline public return_type class_ref 306822 // OrderId
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1447302 "taker"
	public explicit_return_type "void"
	nparams 1
	  param in name "taker_id" type class_ref 306822 // OrderId
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1277958 "trade"
	const cpp_inline public return_type class_ref 551174 // TradeId
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1447174 "trade"
	public explicit_return_type "void"
	nparams 1
	  param in name "trade_id" type class_ref 551174 // TradeId
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1278214 "state"
	const cpp_virtual public return_type class_ref 299014 // OrderState
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	comment "The state of the order after the event"
      end

      operation 1292678 "state"
	public explicit_return_type "void"
	nparams 1
	  param in name "state" type class_ref 299014 // OrderState
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1351046 "source"
	const constvalue public explicit_return_type "string"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type}& ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type}& ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1552646 "source"
	public explicit_return_type "void"
	nparams 1
	  param in name "src" explicit_type "string"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1538950 "isOrderCreated"
	const cpp_inline public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1539078 "isOrderChanged"
	const cpp_inline public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1539206 "isOrderCancelled"
	const cpp_inline public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1539334 "isOrderFilled"
	const cpp_inline public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      classrelation 1272966 // <generalisation>
	relation 1262598 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 1272966 // <generalisation>
	  b parent class_ref 1087494 // PriceLevelAttached
      end

      operation 1598726 "convertVolume"
	const protected return_type class_ref 305798 // Volume
	nparams 1
	  param in name "field" explicit_type "string"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1598470 "OrderEvent"
	public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} = default;
"
	
	
	
	
      end

      operation 1598598 "OrderEvent"
	cpp_inline public explicit_return_type ""
	nparams 3
	  param in name "csv" explicit_type "string"
	  param inout name "anchor" type class_ref 230278 // Timestamp
	  param in name "version" explicit_type "int"
	    defaultvalue "2"
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}, ${t1} & ${p1}${v1}, ${t2} ${p2}${v2}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}, ${t1} & ${p1}, ${t2} ${p2}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
      end

      operation 1646086 "parseCsvVer2"
	private explicit_return_type "void"
	nparams 2
	  param in name "csv" explicit_type "string"
	  param inout name "anchor" type class_ref 230278 // Timestamp
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}, ${t1} & ${p1}${v1}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}, ${t1} & ${p1}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1646342 "parseCsvVer3"
	private explicit_return_type "void"
	nparams 2
	  param in name "csv" explicit_type "string"
	  param inout name "anchor" type class_ref 230278 // Timestamp
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}, ${t1} & ${p1}${v1}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}, ${t1} & ${p1}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1646214 "detectCsvVersion"
	class_operation public explicit_return_type "int"
	nparams 1
	  param in name "csv_header" explicit_type "string"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1432838 "toSeconds"
	class_operation cpp_inline private return_type class_ref 1006598 // seconds
	nparams 1
	  param in name "d" type class_ref 514950 // microseconds
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1596806 "removeTrailingZeros"
	class_operation cpp_inline private explicit_return_type "string"
	nparams 1
	  param in name "str" explicit_type "string"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} && ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} && ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1646726 "change_timestamp"
	public explicit_return_type "void"
	nparams 1
	  param in name "time_passed" type class_ref 514950 // microseconds
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1646854 "change_timestamp"
	const public return_type class_ref 514950 // microseconds
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1646982 "change_price"
	const public return_type class_ref 305542 // Price
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1647110 "change_price"
	public explicit_return_type "void"
	nparams 1
	  param in name "price_change" type class_ref 305542 // Price
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end
    end

    class 1080966 "Stripe"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      class 1094662 "seconds"
	visibility public stereotype "template_typedef"
	nactuals 2
	actual class class_ref 1094790 // duration
	  rank 0 explicit_value "double"
	actual class class_ref 1094790 // duration
	  rank 1 explicit_value ""
	cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 1287942 // <realization>
	  relation 1277574 -_-|>
	    a public
	      cpp default "${type}"
	      classrelation_ref 1287942 // <realization>
	    b parent class_ref 1094790 // duration
	end
      end

      class 1101446 "Stripe_UP"
	visibility public stereotype "template_typedef"
	nactuals 1
	actual class class_ref 889478 // unique_ptr
	  rank 0 value class_ref 1080966 // Stripe
	cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 1294982 // <realization>
	  relation 1284614 -_-|>
	    a public
	      cpp default "${type}"
	      classrelation_ref 1294982 // <realization>
	    b parent class_ref 889478 // unique_ptr
	end
      end

      classrelation 1265670 // <generalisation>
	relation 1255302 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 1265670 // <generalisation>
	  b parent class_ref 245766 // Message
      end

      classrelation 1273094 // <generalisation>
	relation 1262726 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 1273094 // <generalisation>
	  b parent class_ref 1087494 // PriceLevelAttached
      end

      operation 1588358 "accept"
	const cpp_virtual public explicit_return_type "bool"
	nparams 1
	  param in name "mh" type class_ref 441222 // MessageHandler
	multiplicity "1"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0}* ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0}* ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1588614 "Stripe"
	public explicit_return_type ""
	nparams 6
	  param in name "t" type class_ref 230278 // Timestamp
	  param in name "p" type class_ref 305542 // Price
	  param in name "v" type class_ref 305798 // Volume
	  param in name "s" type class_ref 271366 // BookSide
	  param in name "duration" type class_ref 514950 // microseconds
	  param in name "is_best" explicit_type "bool"
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}, const ${t1} & ${p1}${v1}, const ${t2} & ${p2}${v2}, const ${t3} & ${p3}${v3}, const ${t4} & ${p4}${v4}, ${t5} ${p5}${v5}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}, const ${t1} & ${p1}, const ${t2} & ${p2}, const ${t3} & ${p3}, const ${t4} & ${p4}, ${t5} ${p5}${)}${volatile}${throw} : Message{t}, PriceLevelAttached{ p, v, s }, duration_{duration}, is_best_{is_best} {
  ${body}}
"
	
	
	
	
      end

      attribute 979334 "duration_"
	private type class_ref 514950 // microseconds
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 979462 "is_best_"
	private explicit_type "bool"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 1596550 "toString"
	const cpp_virtual public explicit_return_type "string"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1597830 "duration"
	const cpp_inline public return_type class_ref 1094662 // seconds
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1598086 "isBest"
	const cpp_inline public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end
    end

    class 1094406 "Dot"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      operation 1619334 "toString"
	const cpp_virtual public explicit_return_type "string"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      classrelation 1287430 // <generalisation>
	relation 1277062 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 1287430 // <generalisation>
	  b parent class_ref 245766 // Message
      end

      classrelation 1287558 // <generalisation>
	relation 1277190 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 1287558 // <generalisation>
	  b parent class_ref 1087494 // PriceLevelAttached
      end

      operation 1595782 "accept"
	const cpp_virtual public explicit_return_type "bool"
	nparams 1
	  param in name "mh" type class_ref 441222 // MessageHandler
	multiplicity "1"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0}* ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0}* ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1596038 "Dot"
	public explicit_return_type ""
	nparams 4
	  param in name "t" type class_ref 230278 // Timestamp
	  param in name "p" type class_ref 305542 // Price
	  param in name "v" type class_ref 305798 // Volume
	  param in name "s" type class_ref 271366 // BookSide
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}, const ${t1} & ${p1}${v1}, const ${t2} & ${p2}${v2}, const ${t3} & ${p3}${v3}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}, const ${t1} & ${p1}, const ${t2} & ${p2}, const ${t3} & ${p3}${)}${volatile}${throw}:Message{t}, PriceLevelAttached{p,v,s} {
  ${body}}
"
	
	
	
	
      end
    end

    class 441478 "Elapsed"
      visibility public 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      classrelation 452358 // <generalisation>
	relation 442374 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 452358 // <generalisation>
	  b parent class_ref 245766 // Message
      end

      operation 485638 "accept"
	const cpp_override cpp_final public explicit_return_type "bool"
	nparams 1
	  param in name "mh" type class_ref 441222 // MessageHandler
	multiplicity "1"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(} ${t0} * ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(} ${t0} * ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 561926 "Elapsed"
	public explicit_return_type ""
	nparams 1
	  param in name "exchange_time" type class_ref 230278 // Timestamp
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
      end

      operation 1728134 "Elapsed"
	public explicit_return_type ""
	nparams 1
	  param in name "line" explicit_type "string"
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
      end

      operation 650118 "toString"
	const cpp_override public explicit_return_type "string"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end
    end

    class 966278 "Reset"
      visibility public 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      operation 1612294 "Reset"
	public explicit_return_type ""
	nparams 2
	  param in name "t" type class_ref 230278 // Timestamp
	  param in name "d" explicit_type "bool"
	    defaultvalue "false"
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}, ${t1} ${p1}${v1}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}, ${t1} ${p1}${)}${volatile}${throw}: Message{t,d}{
  ${body}}
"
	
	
	
	
      end

      operation 1721478 "Reset"
	public explicit_return_type ""
	nparams 1
	  param in name "line" explicit_type "string"
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
      end

      classrelation 1096070 // <generalisation>
	relation 1085702 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 1096070 // <generalisation>
	  b parent class_ref 245766 // Message
      end

      operation 1384710 "accept"
	const cpp_override cpp_final public explicit_return_type "bool"
	nparams 1
	  param in name "mh" type class_ref 441222 // MessageHandler
	multiplicity "1"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(} ${t0} * ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(} ${t0} * ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1384966 "toString"
	const cpp_override public explicit_return_type "string"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end
    end
  end

  classview 293894 "Handlers"
    
    classdiagramsettings member_max_width 0 end
    
    classcompositediagramsettings end
    
    collaborationdiagramsettings end
    
    objectdiagramsettings end
    
    objectcompositediagramsettings end
    
    sequencediagramsettings end
    
    statediagramsettings
     end
    
    
    activitydiagramsettings
     end
    sequencediagram 551814 "MessageHandler - handle"
      sequencediagramsettings end
      overlapping_bars size A4
    end

    classdiagram 492550 "EraMerger"
      classdiagramsettings hide_attributes yes hide_operations yes member_max_width 0 end
      size A4
    end

    state 308870 "EraMerger"
      stereotype "machine"
      statediagram 486022 "EraMerger"
	statediagramsettings show_trans_definition yes draw_all_relations yes
	 end
	size A4
      end

      state 315910 "Engage"
	pseudostate 389510 initial ""
	  transition 572678 "<transition>"
	    on state_ref 315398 // Wait era start
	    external 
	  end
	end

	state 315782 "Prepare merge"
	  transition 573574 "elapsed"
	    on state_ref 315526 // Era started
	      uml_trigger "elapsed"
	      uml_expr "pass deletions"
	      cpp_trigger "elapsed"
	      cpp_expr "for(auto iter = stm.active_orders_.begin(); iter != stm.active_orders_.end(); )
if(iter->second->deleted()) {
  auto c = boost::make_unique<reconstructor::OrderEvent>(*iter->second);
  c->deleted(false);
  c->state(reconstructor::OrderEvent::OrderState::kFinished);
  c->trade(0);
  c->timestamp(stm.era_timestamp_);
  assert(c->isOrderCancelled());
  iter = stm.active_orders_.erase(iter);
  stm.output_.push_back(std::move(c));
}
else
  ++iter;
"
	    external 
	  end

	  transition 576006 "created"
	    on state_ref 315782 // Prepare merge
	      uml_trigger "created"
	      uml_expr "merge with order book"
	      cpp_trigger "created"
	      cpp_expr "using OrderEvent=oberon::reconstructor::OrderEvent;
OrderEvent *event = static_cast<OrderEvent*>(stm.received_.get());
auto iter = stm.active_orders_.find(event->maker());
if (iter != stm.active_orders_.end()) {
  OrderEvent *old = static_cast<OrderEvent *>(iter->second.get());
  event->deleted(true);

  if (old->price() == event->price() &&
      ( std::abs(old->remaining() - event->remaining())/stm.security_->base()) < 0.99 ) { // the same commitment, so keep old event
    old->deleted(false);
    stm.received_.release();
  } else { // generate Changed event instead of Created
    stm.received_ = boost::make_unique<OrderEvent>(*event); // the original stm.received_ (Created) is deleted here!
    stm.received_->deleted(false);
    stm.received_->timestamp(stm.era_timestamp_);
    static_cast<OrderEvent*>(stm.received_.get())->ordinal(0); // so isOrderCreated() will be false
    assert(static_cast<OrderEvent*>(stm.received_.get())->isOrderChanged());
    iter->second = static_cast<OrderEvent *>(stm.received_.get())->clone();
    stm.output_.push_back(std::move(stm.received_));
  }
}
else {
  stm.active_orders_[event->maker()] = event->clone();
  stm.output_.push_back(std::move(stm.received_));
}

"
	  end
	end

	state 315526 "Era started"
	  transition 573446 "era"
	    on state_ref 315782 // Prepare merge
	      uml_trigger "era"
	      uml_expr "mark all order book events deleted"
	      cpp_trigger "era"
	      cpp_expr "stm.era_timestamp_ = stm.received_->timestamp();
for(auto &p : stm.active_orders_)
  p.second->deleted(true);
"
	    external 
	  end

	  transition 574086 "cancelled"
	    on state_ref 315526 // Era started
	      uml_trigger "cancelled"
	      uml_expr "update order book"
	      cpp_trigger "cancelled"
	      cpp_expr "using OrderEvent = reconstructor::OrderEvent;
OrderEvent *event = static_cast<OrderEvent *>(stm.received_.get());
stm.active_orders_.erase(event->maker());
stm.output_.push_back(std::move(stm.received_));
"
	  end

	  transition 574854 "filled"
	    on state_ref 315526 // Era started
	      uml_trigger "filled"
	      uml_expr "update order book"
	      cpp_trigger "filled"
	      cpp_expr "using OrderEvent = reconstructor::OrderEvent;
OrderEvent *event = static_cast<OrderEvent *>(stm.received_.get());
if (event->state() == OrderEvent::OrderState::kActive) {
  stm.active_orders_[event->maker()] = event->clone();
} else {
  stm.active_orders_.erase(event->maker());
}
stm.output_.push_back(std::move(stm.received_));
"
	  end

	  transition 575110 "created"
	    on state_ref 315526 // Era started
	      uml_trigger "created"
	      uml_expr "update order book"
	      cpp_trigger "created"
	      cpp_expr "using OrderEvent=reconstructor::OrderEvent;
OrderEvent *event = static_cast<OrderEvent*>(stm.received_.get());
stm.active_orders_[event->maker()] = event->clone();
stm.output_.push_back(std::move(stm.received_));
"
	  end

	  transition 575878 "changed"
	    on state_ref 315526 // Era started
	      uml_trigger "changed"
	      uml_expr "update order book"
	      cpp_trigger "changed"
	      cpp_expr "using OrderEvent=reconstructor::OrderEvent;
OrderEvent *event = static_cast<OrderEvent*>(stm.received_.get());
stm.active_orders_[event->maker()] = event->clone();
stm.output_.push_back(std::move(stm.received_));

"
	  end

	  transition 598278 "reset"
	    on state_ref 315526 // Era started
	      uml_trigger "reset"
	      uml_expr "drop"
	      cpp_trigger "reset"
	      cpp_expr "stm.received_.reset();"
	  end
	end

	state 315398 "Wait era start"
	  transition 572934 "era"
	    on state_ref 315526 // Era started
	      uml_trigger "era"
	      uml_expr "pass"
	      cpp_trigger "era"
	      cpp_expr "stm.security_ = static_cast<Era*>(stm.received_.get())->security();
stm.output_.push_back(std::move(stm.received_));
"
	    external 
	  end

	  transition 576518 "reset"
	    on state_ref 315398 // Wait era start
	      uml_trigger "reset"
	      uml_expr "pass"
	      cpp_trigger "reset"
	      cpp_expr "stm.output_.push_back(std::move(stm.received_));"
	  end
	end

	transition 577542 "created"
	  on pseudostate_ref 389894 // final 
	    uml_trigger "created"
	    cpp_trigger "created"
	  external 
	end

	transition 577670 "changed"
	  on pseudostate_ref 389894 // final 
	    uml_trigger "changed"
	    cpp_trigger "changed"
	  external 
	end

	transition 577798 "filled"
	  on pseudostate_ref 389894 // final 
	    uml_trigger "filled"
	    cpp_trigger "filled"
	  external 
	end

	transition 577926 "cancelled"
	  on pseudostate_ref 389894 // final 
	    uml_trigger "cancelled"
	    cpp_trigger "cancelled"
	  external 
	end

	transition 578054 "era"
	  on pseudostate_ref 389894 // final 
	    uml_trigger "era"
	    cpp_trigger "era"
	  external 
	end

	transition 578182 "reset"
	  on pseudostate_ref 389894 // final 
	    uml_trigger "reset"
	    cpp_trigger "reset"
	  external 
	end

	transition 619910 "elapsed"
	  on state_ref 315910 // Engage
	    uml_trigger "elapsed"
	    uml_expr "do nothing"
	    cpp_trigger "elapsed"
	end
      end

      pseudostate 389766 initial ""
	transition 574342 "<transition>"
	  on state_ref 315910 // Engage
	  external 
	end
      end

      pseudostate 389894 final ""
      end
    end

    class 1046918 "EraMerger"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      ncouples 1
      key "STM generated" value ""
      comment " implement the state machine EraMerger"
      class 1047046 "AnyState"
	abstract visibility protected 
	cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	ncouples 1
	key "STM generated" value ""
	comment " Mother class of all the classes representing states"
	operation 1483398 "~AnyState"
	  force_body_gen cpp_virtual public explicit_return_type ""
	  nparams 0
	  cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	  cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	end

	operation 1483526 "_upper"
	  abstract force_body_gen cpp_virtual public return_type class_ref 1047046 // AnyState
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " return the upper state"
	end

	operation 1483654 "_do"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " perform the 'do activity'"
	end

	operation 1483782 "_doentry"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " performs the 'entry activity'"
	end

	operation 1483910 "_doexit"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " performs the 'exit activity'"
	end

	operation 1485062 "create"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	end

	operation 1485830 "created"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event created, give it to the upper state"
	end

	operation 1486342 "era"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event era, give it to the upper state"
	end

	operation 1486726 "reset"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event reset, give it to the upper state"
	end

	operation 1487110 "cancelled"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event cancelled, give it to the upper state"
	end

	operation 1487494 "filled"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event filled, give it to the upper state"
	end

	operation 1488006 "changed"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event changed, give it to the upper state"
	end

	operation 1632774 "elapsed"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event elapsed, give it to the upper state"
	end
      end

      class 1047174 "EraMerger_State"
	visibility protected 
	cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	ncouples 1
	key "STM generated" value ""
	comment " implement the state EraMerger"
	class 1047302 "Engage_State"
	  visibility public 
	  cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	  java_decl ""
	  php_decl ""
	  python_2_2 python_decl ""
	  idl_decl ""
	  explicit_switch_type ""
	  mysql_decl ""
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " implement the state Engage"
	  class 1047430 "Prepare_merge_State"
	    visibility public 
	    cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	    java_decl ""
	    php_decl ""
	    python_2_2 python_decl ""
	    idl_decl ""
	    explicit_switch_type ""
	    mysql_decl ""
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " implement the state Prepare merge"
	    operation 1484294 "~Prepare_merge_State"
	      force_body_gen cpp_virtual public explicit_return_type ""
	      nparams 0
	      cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	      cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	    end

	    classrelation 1190662 // <generalisation>
	      relation 1180294 ---|>
		a public
		  cpp default "${type}"
		  classrelation_ref 1190662 // <generalisation>
		b parent class_ref 1047046 // AnyState
	    end

	    operation 1485958 "created"
	      force_body_gen cpp_virtual public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " to manage the event created"
	    end

	    operation 1486086 "_upper"
	      force_body_gen cpp_virtual public return_type class_ref 1047046 // AnyState
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " returns the state containing the current"
	    end

	    operation 1632902 "elapsed"
	      force_body_gen cpp_virtual public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " to manage the event elapsed"
	    end
	  end

	  class 1047686 "Wait_era_start_State"
	    visibility public 
	    cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	    java_decl ""
	    php_decl ""
	    python_2_2 python_decl ""
	    idl_decl ""
	    explicit_switch_type ""
	    mysql_decl ""
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " implement the state Wait era start"
	    operation 1484550 "~Wait_era_start_State"
	      force_body_gen cpp_virtual public explicit_return_type ""
	      nparams 0
	      cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	      cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	    end

	    classrelation 1191174 // <generalisation>
	      relation 1180806 ---|>
		a public
		  cpp default "${type}"
		  classrelation_ref 1191174 // <generalisation>
		b parent class_ref 1047046 // AnyState
	    end

	    operation 1488390 "era"
	      force_body_gen cpp_virtual public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " to manage the event era"
	    end

	    operation 1488518 "reset"
	      force_body_gen cpp_virtual public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " to manage the event reset"
	    end

	    operation 1488646 "_upper"
	      force_body_gen cpp_virtual public return_type class_ref 1047046 // AnyState
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " returns the state containing the current"
	    end
	  end

	  class 1047558 "Era_started_State"
	    visibility public 
	    cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	    java_decl ""
	    php_decl ""
	    python_2_2 python_decl ""
	    idl_decl ""
	    explicit_switch_type ""
	    mysql_decl ""
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " implement the state Era started"
	    operation 1484422 "~Era_started_State"
	      force_body_gen cpp_virtual public explicit_return_type ""
	      nparams 0
	      cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	      cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	    end

	    classrelation 1190918 // <generalisation>
	      relation 1180550 ---|>
		a public
		  cpp default "${type}"
		  classrelation_ref 1190918 // <generalisation>
		b parent class_ref 1047046 // AnyState
	    end

	    operation 1486470 "era"
	      force_body_gen cpp_virtual public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " to manage the event era"
	    end

	    operation 1486854 "reset"
	      force_body_gen cpp_virtual public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " to manage the event reset"
	    end

	    operation 1487238 "cancelled"
	      force_body_gen cpp_virtual public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " to manage the event cancelled"
	    end

	    operation 1487622 "filled"
	      force_body_gen cpp_virtual public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " to manage the event filled"
	    end

	    operation 1487750 "created"
	      force_body_gen cpp_virtual public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " to manage the event created"
	    end

	    operation 1488134 "changed"
	      force_body_gen cpp_virtual public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " to manage the event changed"
	    end

	    operation 1488262 "_upper"
	      force_body_gen cpp_virtual public return_type class_ref 1047046 // AnyState
	      nparams 1
	        param inout name "stm" type class_ref 1046918 // EraMerger
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " returns the state containing the current"
	    end
	  end

	  operation 1484166 "~Engage_State"
	    force_body_gen cpp_virtual public explicit_return_type ""
	    nparams 0
	    cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	    cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	  end

	  attribute 905094 "_prepare_merge_state"
	    public type class_ref 1047430 // Prepare_merge_State
	    cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	    java_decl ""
	    php_decl ""
	    python_decl ""
	    idl_decl ""
	    mysql_decl ""
	    MysqlColumn
	    ncouples 1
	    key "STM generated" value ""
	    comment " memorize the instance of the state Prepare merge, internal"
	  end

	  attribute 905222 "_era_started_state"
	    public type class_ref 1047558 // Era_started_State
	    cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	    java_decl ""
	    php_decl ""
	    python_decl ""
	    idl_decl ""
	    mysql_decl ""
	    MysqlColumn
	    ncouples 1
	    key "STM generated" value ""
	    comment " memorize the instance of the state Era started, internal"
	  end

	  attribute 905350 "_wait_era_start_state"
	    public type class_ref 1047686 // Wait_era_start_State
	    cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	    java_decl ""
	    php_decl ""
	    python_decl ""
	    idl_decl ""
	    mysql_decl ""
	    MysqlColumn
	    ncouples 1
	    key "STM generated" value ""
	    comment " memorize the instance of the state Wait era start, internal"
	  end

	  classrelation 1190534 // <generalisation>
	    relation 1180166 ---|>
	      a public
		cpp default "${type}"
		classrelation_ref 1190534 // <generalisation>
	      b parent class_ref 1047046 // AnyState
	  end

	  operation 1485190 "create"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 1046918 // EraMerger
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event create"
	  end

	  operation 1488902 "created"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 1046918 // EraMerger
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event created"
	  end

	  operation 1489030 "changed"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 1046918 // EraMerger
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event changed"
	  end

	  operation 1489158 "filled"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 1046918 // EraMerger
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event filled"
	  end

	  operation 1489286 "cancelled"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 1046918 // EraMerger
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event cancelled"
	  end

	  operation 1489414 "era"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 1046918 // EraMerger
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event era"
	  end

	  operation 1489542 "reset"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 1046918 // EraMerger
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event reset"
	  end

	  operation 1489670 "_upper"
	    force_body_gen cpp_virtual public return_type class_ref 1047046 // AnyState
	    nparams 1
	      param inout name "stm" type class_ref 1046918 // EraMerger
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " returns the state containing the current"
	  end

	  operation 1728262 "elapsed"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 1046918 // EraMerger
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event elapsed"
	  end
	end

	operation 1484038 "~EraMerger_State"
	  force_body_gen cpp_virtual public explicit_return_type ""
	  nparams 0
	  cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	  cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	end

	attribute 904966 "_engage_state"
	  public type class_ref 1047302 // Engage_State
	  cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	  ncouples 1
	  key "STM generated" value ""
	  comment " memorize the instance of the state Engage, internal"
	end

	classrelation 1190406 // <generalisation>
	  relation 1180038 ---|>
	    a public
	      cpp default "${type}"
	      classrelation_ref 1190406 // <generalisation>
	    b parent class_ref 1047046 // AnyState
	end

	operation 1489798 "create"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " to manage the event create"
	end

	operation 1489926 "_upper"
	  force_body_gen cpp_virtual public return_type class_ref 1047046 // AnyState
	  nparams 1
	    param inout name "stm" type class_ref 1046918 // EraMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " returns the state containing the current"
	end
      end

      attribute 904710 "_machine_name"
	public explicit_type "string"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
	ncouples 1
	key "STM generated" value ""
	comment " a (unique) name of the machine "
      end

      attribute 918790 "active_orders_"
	private type class_ref 1040262 // OrderEvent_UP
	multiplicity "*"
	stereotype "map"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<reconstructor::OrderEvent::OrderId, ${type}> ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 912134 "era_timestamp_"
	private type class_ref 230278 // Timestamp
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 904838 "_eramerger_state"
	protected type class_ref 1047174 // EraMerger_State
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
	ncouples 1
	key "STM generated" value ""
	comment " memorize the instance of the state EraMerger, internal"
      end

      operation 1484678 "EraMerger"
	force_body_gen public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
      end

      operation 1497606 "EraMerger"
	force_body_gen public explicit_return_type ""
	nparams 1
	  param in name "next" type class_ref 950918 // MessageHandler_SP
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}${)}${volatile}${throw}: MessageHandler{next, \"EraMerger\"}, _current_state{0} {
  ${body}}
"
	
	
	
	
      end

      operation 1484806 "~EraMerger"
	force_body_gen cpp_virtual public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
      end

      operation 1484934 "create"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event create"
      end

      operation 1485702 "created"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event created"
      end

      classrelation 1190790 // <dependency>
	relation 1180422 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1190790 // <dependency>
	  b parent class_ref 1047430 // Prepare_merge_State
      end

      operation 1486214 "era"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event era"
      end

      operation 1486598 "reset"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event reset"
      end

      operation 1486982 "cancelled"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event cancelled"
      end

      operation 1487366 "filled"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event filled"
      end

      operation 1487878 "changed"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event changed"
      end

      classrelation 1191046 // <dependency>
	relation 1180678 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1191046 // <dependency>
	  b parent class_ref 1047558 // Era_started_State
      end

      classrelation 1191302 // <dependency>
	relation 1180934 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1191302 // <dependency>
	  b parent class_ref 1047686 // Wait_era_start_State
      end

      classrelation 1191430 // <dependency>
	relation 1181062 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1191430 // <dependency>
	  b parent class_ref 1047302 // Engage_State
      end

      classrelation 1191558 // <dependency>
	relation 1181190 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1191558 // <dependency>
	  b parent class_ref 1047174 // EraMerger_State
      end

      operation 1490054 "doActivity"
	force_body_gen public explicit_return_type "void"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " to execute the current state 'do activity'"
      end

      operation 1490182 "_set_currentState"
	force_body_gen cpp_inline protected explicit_return_type "void"
	nparams 1
	  param inout name "st" type class_ref 1047046 // AnyState
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " change the current state, internal"
      end

      operation 1490310 "_final"
	force_body_gen protected explicit_return_type "void"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " execution done, internal"
      end

      classrelation 1191686 // _current_state (<directional aggregation>)
	relation 1181318 o-->
	  a role_name "_current_state" protected
	    comment " contains the current state, internal"
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} * ${name}${value};
"
	    classrelation_ref 1191686 // _current_state (<directional aggregation>)
	  b parent class_ref 1047046 // AnyState
      end

      classrelation 1191814 // <generalisation>
	relation 1181446 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 1191814 // <generalisation>
	  b parent class_ref 441222 // MessageHandler
      end

      classrelation 1252614 // security_ (<directional aggregation>)
	relation 1242246 o-->
	  stereotype "shared_ptr"
	  a role_name "security_" multiplicity "0..1" private
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<${type}> ${name}${value};
"
	    classrelation_ref 1252614 // security_ (<directional aggregation>)
	  b parent class_ref 1067398 // Security
      end

      classrelation 1259142 // <dependency>
	relation 1248774 -_->
	  a public
	    cpp default "#include in source"
	    classrelation_ref 1259142 // <dependency>
	  b parent class_ref 521478 // Era
      end

      operation 1632646 "elapsed"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event elapsed"
      end
    end

    classdiagram 479494 "EraSlicer"
      classdiagramsettings hide_attributes yes hide_operations yes member_max_width 0 end
      size A4
    end

    class 1020678 "EraSlicer"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      operation 1475718 "EraSlicer"
	public explicit_return_type ""
	nparams 2
	  param in name "boundary" explicit_type "int"
	  param in name "next" type class_ref 950918 // MessageHandler_SP
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${t0} ${p0}${v0}, ${t1} ${p1}${v1}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${t0} ${p0}, ${t1} ${p1}${)}${throw} : MessageHandler{next, \"Era Slicer\"}, boundary_{boundary} {
  ${body}}
"
	
	
	
	
      end

      classrelation 1182470 // <generalisation>
	relation 1172102 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 1182470 // <generalisation>
	  b parent class_ref 441222 // MessageHandler
      end

      attribute 918662 "active_orders_"
	private type class_ref 1040262 // OrderEvent_UP
	multiplicity "*"
	stereotype "map"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<reconstructor::OrderEvent::OrderId, ${type}> ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 1474182 "cancelled"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1511174 "filled"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1474566 "era"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1474950 "orderEvent"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      classrelation 1182726 // <dependency>
	relation 1172358 -_->
	  a public
	    cpp default "#include in source"
	    classrelation_ref 1182726 // <dependency>
	  b parent class_ref 448390 // OrderEvent
      end

      classrelation 1182982 // <dependency>
	relation 1172614 -_->
	  a public
	    cpp default "#include in source"
	    classrelation_ref 1182982 // <dependency>
	  b parent class_ref 521478 // Era
      end

      attribute 897414 "boundary_"
	private explicit_type "int"
	init_value "5"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 897542 "next_era_"
	private type class_ref 230278 // Timestamp
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 1475846 "slice"
	public explicit_return_type "void"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      classrelation 1183238 // <dependency>
	relation 1172870 -_->
	  a public
	    cpp default "#include in source"
	    classrelation_ref 1183238 // <dependency>
	  b parent class_ref 966278 // Reset
      end

      classrelation 1252486 // security_ (<directional aggregation>)
	relation 1242118 o-->
	  stereotype "shared_ptr"
	  a role_name "security_" multiplicity "0..1" private
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<${type}> ${name}${value};
"
	    classrelation_ref 1252486 // security_ (<directional aggregation>)
	  b parent class_ref 1067398 // Security
      end

      operation 1580294 "reset"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end
    end

    state 197894 "SizeDeducer"
      stereotype "machine"
      statediagram 314118 "Size Deducer"
	statediagramsettings show_trans_definition yes
	 end
	size A4
      end

      state 198022 "Wait"
	  uml_on_exit "cast Message to OrderEvent"
	  cpp_on_exit "stm.em_ = std::unique_ptr<OrderEvent>(
    dynamic_cast<OrderEvent *>(stm.received_.release()));
"
	transition 357254 "created"
	  on state_ref 198278 // Save
	    uml_trigger "created"
	    uml_guard "state == kActive"
	    cpp_trigger "created"
	    cpp_guard "static_cast<OrderEvent*>(stm.received_.get())->state() == OrderEvent::OrderState::kActive
"
	  external 
	end

	transition 358662 "era"
	  on state_ref 198022 // Wait
	    uml_trigger "reset"
	    uml_expr "reset order sizes"
	    cpp_trigger "reset"
	    cpp_expr "stm.previous_sizes_.clear();
stm.security_.reset();
stm.output_.push_back(std::move(stm.received_));
"
	end

	transition 365574 "filled"
	  on state_ref 204806 // Remaining size
	    uml_trigger "filled"
	    cpp_trigger "filled"
	  external 
	end

	transition 365702 "orderEvent"
	  on state_ref 204934 // Size change
	    uml_trigger "orderEvent"
	    cpp_trigger "orderEvent"
	  external 
	end

	transition 386310 "created"
	  on state_ref 198022 // Wait
	    uml_trigger "created"
	    uml_guard "state == kNA"
	    uml_expr "drop message"
	    cpp_trigger "created"
	    cpp_guard "static_cast<OrderEvent*>(stm.received_.get())->state() == OrderEvent::OrderState::kNA
"
	    cpp_expr "static_cast<OrderEvent*>(stm.received_.get())->deleted(true);
stm.output_.push_back(std::move(stm.received_));
"
	end

	transition 591750 "era"
	  on state_ref 198022 // Wait
	    uml_trigger "era"
	    uml_expr "save security"
	    cpp_trigger "era"
	    cpp_expr "stm.security_ = static_cast<Era *>(stm.received_.get())->security();
stm.output_.push_back(std::move(stm.received_));
"
	end
      end

      state 198150 "Deduce"
	  uml_on_entry "find previous size of the order"
	  cpp_on_entry "stm.previous_size_ = OrderEvent::kNaVolume;

try {
  stm.previous_size_ = stm.previous_sizes_.at(stm.em_->maker());
}
catch (...) {};
"
	  cpp_on_exit "
"
	state 204934 "Size change"
	  transition 365830 "success"
	    on state_ref 198278 // Save
	      uml_guard "success"
	      uml_expr "set size change"
	      cpp_guard "!std::isnan(stm.previous_size_)"
	      cpp_expr "if (!std::isnan(stm.em_->remaining())) {
  auto change_size = stm.previous_size_ - stm.em_->remaining();
  if (std::abs(change_size) < stm.security_->base() &&
      (stm.security_->base() - std::abs(change_size)) / stm.security_->base() > 0.01) {
    // only if change_size is significantly less than base_increment_ we assume
    // that it is due to rounding errors. Otherwise we save the provided value
    // of change_size
    stm.em_->change(0.0);
  } else {
    stm.em_->change(change_size);
  }
} else {
  BOOST_LOG_TRIVIAL(warning)
      << stm._machine_name << \" Remaining size was NA: \" << stm.em_->toString();
  stm.em_->change(stm.previous_size_);
}
"
	    external 
	  end

	  transition 379526 "failure"
	    on pseudostate_ref 260870 // exit_point exit
	      uml_guard "failure"
	      cpp_guard "std::isnan(stm.previous_size_)"
	    external 
	  end
	end

	state 204806 "Remaining size"
	    cpp_on_entry "
"
	  transition 365958 "success"
	    on state_ref 198278 // Save
	      uml_guard "success"
	      uml_expr "set remaining size"
	      cpp_guard "!std::isnan(stm.previous_size_)"
	      cpp_expr "auto remaining_size = stm.previous_size_ - stm.em_->change();

if (remaining_size < stm.security_->base() &&
    (stm.security_->base() - remaining_size) / stm.security_->base() >
        0.01) {
  // only if remaining_size is significantly less than base_increment_ we assume
  // that it is due to rounding errors. Otherwise we save the provided value of
  // remaining_size
  stm.em_->remaining(0.0);
  if (stm.em_->isOrderFilled())
    stm.em_->state(OrderEvent::OrderState::kFinished);
} else {
  stm.em_->remaining(remaining_size);
  if (stm.em_->isOrderFilled())
    stm.em_->state(OrderEvent::OrderState::kActive);
}

"
	    external 
	  end

	  transition 379398 "failure"
	    on pseudostate_ref 260870 // exit_point exit
	      uml_guard "failure"
	      cpp_guard "std::isnan(stm.previous_size_)"
	    external 
	  end
	end

	pseudostate 260870 exit_point "exit"
	  transition 379654 "output message"
	    on state_ref 198022 // Wait
	      uml_expr "output message"
	      cpp_expr "stm.output_.push_back(std::move(stm.em_));"
	    external 
	  end
	end
      end

      state 198278 "Save"
	  uml_on_entry "save remaining size of the order"
	  cpp_on_entry "if(stm.em_->remaining())
  stm.previous_sizes_[stm.em_->maker()] = stm.em_->remaining();
else
  stm.previous_sizes_.erase(stm.em_->maker());
"
	transition 357382 "output saved"
	  on state_ref 198022 // Wait
	    uml_expr "output message"
	    cpp_expr "stm.output_.push_back(std::move(stm.em_));
"
	  external 
	end
      end

      pseudostate 260998 initial ""
	transition 379782 "<transition>"
	  on state_ref 198022 // Wait
	  external 
	end
      end
    end

    classdiagram 439942 "SizeDeducer"
      classdiagramsettings hide_attributes yes hide_operations yes member_max_width 0 end
      size A4
    end

    class 542982 "SizeDeducer"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      ncouples 1
      key "STM generated" value ""
      comment " implement the state machine SizeDeducer"
      class 1224326 "SizeDeducer_SP"
	visibility public stereotype "template_typedef"
	nactuals 1
	actual class class_ref 852614 // shared_ptr
	  rank 0 value class_ref 542982 // SizeDeducer
	cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 1460742 // <realization>
	  relation 1450374 -_-|>
	    stereotype "bind"
	    a public
	      cpp default "${type}"
	      classrelation_ref 1460742 // <realization>
	    b parent class_ref 852614 // shared_ptr
	end
      end

      class 958470 "AnyState"
	abstract visibility protected 
	cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	ncouples 1
	key "STM generated" value ""
	comment " Mother class of all the classes representing states"
	operation 1371014 "~AnyState"
	  force_body_gen cpp_virtual public explicit_return_type ""
	  nparams 0
	  cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	  cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	end

	operation 1371142 "_upper"
	  abstract force_body_gen cpp_virtual public return_type class_ref 958470 // AnyState
	  nparams 1
	    param inout name "stm" type class_ref 542982 // SizeDeducer
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " return the upper state"
	end

	operation 1371270 "_do"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 542982 // SizeDeducer
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " perform the 'do activity'"
	end

	operation 1371398 "_doentry"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 542982 // SizeDeducer
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " performs the 'entry activity'"
	end

	operation 1371526 "_doexit"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 542982 // SizeDeducer
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " performs the 'exit activity'"
	end

	operation 1372422 "created"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 542982 // SizeDeducer
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event created, give it to the upper state"
	end

	operation 1373190 "filled"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 542982 // SizeDeducer
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event filled, give it to the upper state"
	end

	operation 1374214 "create"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 542982 // SizeDeducer
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	end

	operation 1385990 "reset"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 542982 // SizeDeducer
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event reset, give it to the upper state"
	end

	operation 1386374 "orderEvent"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 542982 // SizeDeducer
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event orderEvent, give it to the upper state"
	end

	operation 1580038 "era"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 542982 // SizeDeducer
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event era, give it to the upper state"
	end
      end

      class 958598 "SizeDeducer_State"
	visibility protected 
	cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	ncouples 1
	key "STM generated" value ""
	comment " implement the state SizeDeducer"
	class 958726 "Wait_State"
	  visibility public 
	  cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	  java_decl ""
	  php_decl ""
	  python_2_2 python_decl ""
	  idl_decl ""
	  explicit_switch_type ""
	  mysql_decl ""
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " implement the state Wait"
	  operation 1371782 "~Wait_State"
	    force_body_gen cpp_virtual public explicit_return_type ""
	    nparams 0
	    cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	    cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	  end

	  classrelation 1087494 // <generalisation>
	    relation 1077126 ---|>
	      a public
		cpp default "${type}"
		classrelation_ref 1087494 // <generalisation>
	      b parent class_ref 958470 // AnyState
	  end

	  operation 1372550 "created"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event created"
	  end

	  operation 1373318 "filled"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event filled"
	  end

	  operation 1373702 "_doexit"
	    force_body_gen public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " perform the 'exit behavior'"
	  end

	  operation 1373830 "_upper"
	    force_body_gen cpp_virtual public return_type class_ref 958470 // AnyState
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " returns the state containing the current"
	  end

	  operation 1386118 "reset"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event reset"
	  end

	  operation 1386502 "orderEvent"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event orderEvent"
	  end

	  operation 1580166 "era"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event era"
	  end
	end

	class 959238 "Save_State"
	  visibility public 
	  cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	  java_decl ""
	  php_decl ""
	  python_2_2 python_decl ""
	  idl_decl ""
	  explicit_switch_type ""
	  mysql_decl ""
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " implement the state Save"
	  operation 1372294 "~Save_State"
	    force_body_gen cpp_virtual public explicit_return_type ""
	    nparams 0
	    cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	    cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	  end

	  classrelation 1088518 // <generalisation>
	    relation 1078150 ---|>
	      a public
		cpp default "${type}"
		classrelation_ref 1088518 // <generalisation>
	      b parent class_ref 958470 // AnyState
	  end

	  operation 1375750 "_completion"
	    force_body_gen cpp_virtual public explicit_return_type "bool"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	  end

	  operation 1375878 "create"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event create"
	  end

	  operation 1376006 "_doentry"
	    force_body_gen public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " perform the 'entry behavior'"
	  end

	  operation 1376134 "_upper"
	    force_body_gen cpp_virtual public return_type class_ref 958470 // AnyState
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " returns the state containing the current"
	  end
	end

	class 958854 "Deduce_State"
	  visibility public 
	  cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	  java_decl ""
	  php_decl ""
	  python_2_2 python_decl ""
	  idl_decl ""
	  explicit_switch_type ""
	  mysql_decl ""
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " implement the state Deduce"
	  class 958982 "Size_change_State"
	    visibility public 
	    cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	    java_decl ""
	    php_decl ""
	    python_2_2 python_decl ""
	    idl_decl ""
	    explicit_switch_type ""
	    mysql_decl ""
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " implement the state Size change"
	    operation 1372038 "~Size_change_State"
	      force_body_gen cpp_virtual public explicit_return_type ""
	      nparams 0
	      cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	      cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	    end

	    classrelation 1087878 // <generalisation>
	      relation 1077510 ---|>
		a public
		  cpp default "${type}"
		  classrelation_ref 1087878 // <generalisation>
		b parent class_ref 958470 // AnyState
	    end

	    operation 1373958 "_completion"
	      force_body_gen cpp_virtual public explicit_return_type "bool"
	      nparams 1
	        param inout name "stm" type class_ref 542982 // SizeDeducer
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	    end

	    operation 1374342 "create"
	      force_body_gen cpp_virtual public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 542982 // SizeDeducer
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " to manage the event create"
	    end

	    operation 1374470 "_upper"
	      force_body_gen cpp_virtual public return_type class_ref 958470 // AnyState
	      nparams 1
	        param inout name "stm" type class_ref 542982 // SizeDeducer
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " returns the state containing the current"
	    end
	  end

	  class 959110 "Remaining_size_State"
	    visibility public 
	    cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	    java_decl ""
	    php_decl ""
	    python_2_2 python_decl ""
	    idl_decl ""
	    explicit_switch_type ""
	    mysql_decl ""
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " implement the state Remaining size"
	    operation 1372166 "~Remaining_size_State"
	      force_body_gen cpp_virtual public explicit_return_type ""
	      nparams 0
	      cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	      cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	    end

	    classrelation 1088134 // <generalisation>
	      relation 1077766 ---|>
		a public
		  cpp default "${type}"
		  classrelation_ref 1088134 // <generalisation>
		b parent class_ref 958470 // AnyState
	    end

	    operation 1374598 "_completion"
	      force_body_gen cpp_virtual public explicit_return_type "bool"
	      nparams 1
	        param inout name "stm" type class_ref 542982 // SizeDeducer
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	    end

	    operation 1374726 "create"
	      force_body_gen cpp_virtual public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 542982 // SizeDeducer
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " to manage the event create"
	    end

	    operation 1374854 "_doentry"
	      force_body_gen public explicit_return_type "void"
	      nparams 1
	        param inout name "stm" type class_ref 542982 // SizeDeducer
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " perform the 'entry behavior'"
	    end

	    operation 1374982 "_upper"
	      force_body_gen cpp_virtual public return_type class_ref 958470 // AnyState
	      nparams 1
	        param inout name "stm" type class_ref 542982 // SizeDeducer
	      cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	      cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	      
	      
	      
	      
	      ncouples 1
	      key "STM generated" value ""
	      comment " returns the state containing the current"
	    end
	  end

	  operation 1371910 "~Deduce_State"
	    force_body_gen cpp_virtual public explicit_return_type ""
	    nparams 0
	    cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	    cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	  end

	  attribute 841734 "_size_change_state"
	    public type class_ref 958982 // Size_change_State
	    cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	    java_decl ""
	    php_decl ""
	    python_decl ""
	    idl_decl ""
	    mysql_decl ""
	    MysqlColumn
	    ncouples 1
	    key "STM generated" value ""
	    comment " memorize the instance of the state Size change, internal"
	  end

	  attribute 841862 "_remaining_size_state"
	    public type class_ref 959110 // Remaining_size_State
	    cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	    java_decl ""
	    php_decl ""
	    python_decl ""
	    idl_decl ""
	    mysql_decl ""
	    MysqlColumn
	    ncouples 1
	    key "STM generated" value ""
	    comment " memorize the instance of the state Remaining size, internal"
	  end

	  classrelation 1087750 // <generalisation>
	    relation 1077382 ---|>
	      a public
		cpp default "${type}"
		classrelation_ref 1087750 // <generalisation>
	      b parent class_ref 958470 // AnyState
	  end

	  operation 1375110 "_exit1"
	    force_body_gen public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the exit point 'exit', defined because probably shared"
	  end

	  operation 1375238 "create"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event create"
	  end

	  operation 1375366 "_doentry"
	    force_body_gen public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " perform the 'entry behavior'"
	  end

	  operation 1375494 "_doexit"
	    force_body_gen public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " perform the 'exit behavior'"
	  end

	  operation 1375622 "_upper"
	    force_body_gen cpp_virtual public return_type class_ref 958470 // AnyState
	    nparams 1
	      param inout name "stm" type class_ref 542982 // SizeDeducer
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " returns the state containing the current"
	  end
	end

	operation 1371654 "~SizeDeducer_State"
	  force_body_gen cpp_virtual public explicit_return_type ""
	  nparams 0
	  cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	  cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	end

	attribute 841478 "_wait_state"
	  public type class_ref 958726 // Wait_State
	  cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	  ncouples 1
	  key "STM generated" value ""
	  comment " memorize the instance of the state Wait, internal"
	end

	attribute 841606 "_deduce_state"
	  public type class_ref 958854 // Deduce_State
	  cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	  ncouples 1
	  key "STM generated" value ""
	  comment " memorize the instance of the state Deduce, internal"
	end

	attribute 841990 "_save_state"
	  public type class_ref 959238 // Save_State
	  cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	  ncouples 1
	  key "STM generated" value ""
	  comment " memorize the instance of the state Save, internal"
	end

	classrelation 1087366 // <generalisation>
	  relation 1076998 ---|>
	    a public
	      cpp default "${type}"
	      classrelation_ref 1087366 // <generalisation>
	    b parent class_ref 958470 // AnyState
	end

	operation 1376262 "create"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 542982 // SizeDeducer
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " to manage the event create"
	end

	operation 1376390 "_upper"
	  force_body_gen cpp_virtual public return_type class_ref 958470 // AnyState
	  nparams 1
	    param inout name "stm" type class_ref 542982 // SizeDeducer
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " returns the state containing the current"
	end
      end

      attribute 429318 "previous_size_"
	protected type class_ref 305798 // Volume
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 429446 "previous_sizes_"
	protected type class_ref 305798 // Volume
	multiplicity "*"
	stereotype "map"
	cpp_decl "   ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<OrderEvent::OrderId, ${type}> ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 429574 "em_"
	protected type class_ref 448390 // OrderEvent
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}std::unique_ptr<${type}> ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 686854 "SizeDeducer"
	force_body_gen public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
      end

      operation 1370630 "SizeDeducer"
	force_body_gen public explicit_return_type ""
	nparams 1
	  param in name "next" type class_ref 950918 // MessageHandler_SP
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}${)}${volatile}${throw} : MessageHandler{next, \"SizeDeducer\"}, _current_state{0} {
  ${body}}
"
	
	
	
	
      end

      operation 686982 "~SizeDeducer"
	force_body_gen cpp_virtual public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
      end

      operation 688262 "filled"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event filled"
      end

      operation 691846 "doActivity"
	force_body_gen public explicit_return_type "void"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " to execute the current state 'do activity'"
      end

      operation 691974 "_set_currentState"
	force_body_gen cpp_inline protected explicit_return_type "void"
	nparams 1
	  param inout name "st" explicit_type "AnyState"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " change the current state, internal"
      end

      operation 692102 "_final"
	force_body_gen protected explicit_return_type "void"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " execution done, internal"
      end

      classrelation 636934 // <dependency>
	relation 626822 -_->
	  a public
	    cpp default "#include in source"
	    classrelation_ref 636934 // <dependency>
	  b parent class_ref 564358 // cmath
      end

      attribute 718214 "_machine_name"
	public explicit_type "string"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
	ncouples 1
	key "STM generated" value ""
	comment " a (unique) name of the machine "
      end

      operation 1292038 "created"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event created"
      end

      classrelation 1087110 // <generalisation>
	relation 1076742 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 1087110 // <generalisation>
	  b parent class_ref 441222 // MessageHandler
      end

      attribute 841350 "_sizededucer_state"
	protected type class_ref 958598 // SizeDeducer_State
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
	ncouples 1
	key "STM generated" value ""
	comment " memorize the instance of the state SizeDeducer, internal"
      end

      classrelation 1087622 // <dependency>
	relation 1077254 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1087622 // <dependency>
	  b parent class_ref 958726 // Wait_State
      end

      operation 1374086 "create"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event create"
      end

      classrelation 1088006 // <dependency>
	relation 1077638 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1088006 // <dependency>
	  b parent class_ref 958982 // Size_change_State
      end

      classrelation 1088262 // <dependency>
	relation 1077894 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1088262 // <dependency>
	  b parent class_ref 959110 // Remaining_size_State
      end

      classrelation 1088390 // <dependency>
	relation 1078022 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1088390 // <dependency>
	  b parent class_ref 958854 // Deduce_State
      end

      classrelation 1088646 // <dependency>
	relation 1078278 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1088646 // <dependency>
	  b parent class_ref 959238 // Save_State
      end

      classrelation 1088774 // <dependency>
	relation 1078406 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1088774 // <dependency>
	  b parent class_ref 958598 // SizeDeducer_State
      end

      classrelation 1088902 // _current_state (<directional aggregation>)
	relation 1078534 o-->
	  a role_name "_current_state" protected
	    comment " contains the current state, internal"
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} * ${name}${value};
"
	    classrelation_ref 1088902 // _current_state (<directional aggregation>)
	  b parent class_ref 958470 // AnyState
      end

      operation 1385862 "reset"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event reset"
      end

      operation 1386246 "orderEvent"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event orderEvent"
      end

      classrelation 1252230 // security_ (<directional aggregation>)
	relation 1241862 o-->
	  stereotype "shared_ptr"
	  a role_name "security_" multiplicity "0..1" private
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<${type}> ${name}${value};
"
	    classrelation_ref 1252230 // security_ (<directional aggregation>)
	  b parent class_ref 1067398 // Security
      end

      operation 1579910 "era"
	force_body_gen cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event era"
      end

      classrelation 1252358 // <dependency>
	relation 1241990 -_->
	  a public
	    cpp default "#include in source"
	    classrelation_ref 1252358 // <dependency>
	  b parent class_ref 521478 // Era
      end

      classrelation 1265926 // <dependency>
	relation 1255558 -_->
	  a public
	    cpp default "#include in header"
	    classrelation_ref 1265926 // <dependency>
	  b parent class_ref 448390 // OrderEvent
      end
    end

    classdiagram 433414 "Token Handler"
      classdiagramsettings draw_all_relations yes member_max_width 0 end
      size A4
    end

    class 441222 "MessageHandler"
      abstract visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      class 950918 "MessageHandler_SP"
	visibility public stereotype "template_typedef"
	nactuals 1
	actual class class_ref 852614 // shared_ptr
	  rank 0 value class_ref 441222 // MessageHandler
	cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 1078534 // <realization>
	  relation 1068166 -_-|>
	    stereotype "bind"
	    a public
	      cpp default "${type}"
	      classrelation_ref 1078534 // <realization>
	    b parent class_ref 852614 // shared_ptr
	end
      end

      attribute 806790 "received_"
	protected type class_ref 902918 // Message_UP
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 978566 "exchange_time_"
	protected type class_ref 230278 // Timestamp
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
	comment "the most recent timestamp that has been seen in received messages
"
      end

      attribute 806918 "output_"
	protected type class_ref 903046 // Messages
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 841222 "handler_name_"
	const_attribute protected explicit_type "string"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 827142 "is_handles_deleted_"
	protected explicit_type "bool"
	init_value "false"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      classrelation 1078406 // next_ (<directional aggregation>)
	relation 1068038 o-->
	  stereotype "shared_ptr"
	  a role_name "next_" multiplicity "0..1" protected
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${stereotype}<${const}${type}> ${name}${value};
"
	    classrelation_ref 1078406 // next_ (<directional aggregation>)
	  b parent class_ref 441222 // MessageHandler
      end

      operation 722182 "MessageHandler"
	public explicit_return_type ""
	nparams 2
	  param in name "handler_name" explicit_type "string"
	    defaultvalue "\"<a token handler>\""
	  param in name "handle_deleted" explicit_type "bool"
	    defaultvalue "false"
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}, ${t1} ${p1}${v1}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}, ${t1} ${p1}${)}${volatile}${throw} : handler_name_{handler_name}, is_handles_deleted_{handle_deleted} {
  ${body}}
"
	
	
	
	
      end

      operation 1358086 "MessageHandler"
	public explicit_return_type ""
	nparams 3
	  param in name "next" type class_ref 950918 // MessageHandler_SP
	  param in name "handler_name" explicit_type "string"
	    defaultvalue "\"< a token handler>\""
	  param in name "handle_deleted" explicit_type "bool"
	    defaultvalue "false"
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${t0} ${p0}${v0}, const ${t1} & ${p1}${v1}, ${t2} ${p2}${v2}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${t0} ${p0}, const ${t1} & ${p1}, ${t2} ${p2}${)}${volatile}${throw} : handler_name_{handler_name}, is_handles_deleted_{handle_deleted}, next_{next} {
  ${body}}
"
	
	
	
	
      end

      operation 722310 "~MessageHandler"
	cpp_virtual public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
      end

      operation 590214 "handle"
	public return_type class_ref 903046 // Messages
	multiplicity "1"
	nparams 1
	  param in name "input" type class_ref 902918 // Message_UP
	multiplicity "1"
	nexceptions 1
	  exception class_ref 1108486 // processing_error
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} && ${p0}${v0}${)}${const}${volatile}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} && ${p0}${)}${const}${volatile}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1093254 "era"
	cpp_virtual public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 692230 "create"
	cpp_virtual public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 721926 "message"
	cpp_virtual public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 483590 "elapsed"
	cpp_virtual public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1385094 "reset"
	cpp_virtual public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 721798 "orderEvent"
	cpp_virtual public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 752646 "created"
	cpp_virtual public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 730118 "changed"
	cpp_virtual public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 485126 "filled"
	cpp_virtual public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 485382 "cancelled"
	cpp_virtual public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1588486 "stripe"
	cpp_virtual public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1595910 "dot"
	cpp_virtual public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      classrelation 1335814 // <dependency>
	relation 1325446 -_->
	  a public
	    cpp default "#include in source"
	    classrelation_ref 1335814 // <dependency>
	  b parent class_ref 1108486 // processing_error
      end

      operation 1668358 "exchange_time"
	const cpp_inline public return_type class_ref 230278 // Timestamp
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	comment "returns the most recent timestamp that has been seen in received messages"
      end

      operation 1674886 "next"
	const cpp_inline public return_type class_ref 950918 // MessageHandler_SP
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end
    end

    classdiagram 717446 "EventCounter"
      classdiagramsettings member_max_width 0 end
      size A4
    end

    class 564230 "EventCounter"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      class 1224198 "EventCounter_SP"
	visibility public stereotype "template_typedef"
	nactuals 1
	actual class class_ref 852614 // shared_ptr
	  rank 0 value class_ref 564230 // EventCounter
	cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 1460614 // <realization>
	  relation 1450246 -_-|>
	    stereotype "bind"
	    a public
	      cpp default "${type}"
	      classrelation_ref 1460614 // <realization>
	    b parent class_ref 852614 // shared_ptr
	end
      end

      class 1128198 "Saved"
	visibility private stereotype "struct"
	cpp_decl "${comment}${template}struct ${name}${inherit} {
${members}};
${inlines}
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl "${comment}struct ${name} {
${members}};
"
	explicit_switch_type ""
	mysql_decl ""
	
	attribute 1028742 "o"
	  public type class_ref 507142 // Ordinal
	  cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	end

	attribute 1028870 "p"
	  public type class_ref 305542 // Price
	  cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	end

	attribute 1028998 "t"
	  public type class_ref 230278 // Timestamp
	  cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	end
      end

      classrelation 615430 // <generalisation>
	relation 605318 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 615430 // <generalisation>
	  b parent class_ref 441222 // MessageHandler
      end

      attribute 458374 "eventNumbers_"
	private type class_ref 1128198 // Saved
	multiplicity "*"
	stereotype "map"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<OrderEvent::OrderId, ${type}> ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 1370502 "EventCounter"
	public explicit_return_type ""
	nparams 1
	  param in name "next" type class_ref 950918 // MessageHandler_SP
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${t0} ${p0}${v0}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${t0} ${p0}${)}${throw} : MessageHandler{next, \"EventCounter\"} {
  ${body}}
"
	
	
	
	
      end

      operation 722566 "created"
	cpp_virtual cpp_override protected explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 722694 "cancelled"
	cpp_virtual cpp_override protected explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 722822 "filled"
	cpp_virtual cpp_override protected explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1382918 "changed"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1385478 "reset"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end
    end

    classdiagram 208774 "File"
      classdiagramsettings hide_attributes yes hide_operations yes member_max_width 0 end
      size A4
    end

    class 229510 "File"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      class 1224070 "File_SP"
	visibility public stereotype "template_typedef"
	nactuals 1
	actual class class_ref 852614 // shared_ptr
	  rank 0 value class_ref 229510 // File
	cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 1460486 // <realization>
	  relation 1450118 -_-|>
	    stereotype "bind"
	    a public
	      cpp default "${type}"
	      classrelation_ref 1460486 // <realization>
	    b parent class_ref 852614 // shared_ptr
	end
      end

      operation 1646598 "removeTrailingZeros"
	class_operation cpp_inline private explicit_return_type "string"
	nparams 1
	  param in name "str" explicit_type "string"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} && ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} && ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1460486 "name"
	class_operation public explicit_return_type "string"
	nparams 3
	  param in name "exchange" explicit_type "string"
	  param in name "product" explicit_type "string"
	  param in name "era" type class_ref 230278 // Timestamp
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}, const ${t1} & ${p1}${v1}, const ${t2} & ${p2}${v2}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}, const ${t1} & ${p1}, const ${t2} & ${p2}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1072262 "File"
	public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${typeprefix}explicit ${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw}: MessageHandler{\"File\"} {
  ${body}}
"
	
	
	
	
      end

      operation 1072134 "~File"
	cpp_inline public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
      end

      attribute 800134 "base_precision_"
	private explicit_type "int"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 800262 "quote_precision_"
	private explicit_type "int"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 711558 "events_stream_"
	private type class_ref 800134 // ofstream
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 826886 "source_stream_"
	private type class_ref 800134 // ofstream
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 870022 "latest_seconds_"
	private type class_ref 1006598 // seconds
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 985990 "events_"
	private explicit_type "bool"
	init_value "false"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 826758 "source_"
	private explicit_type "bool"
	init_value "false"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 986246 "spread_"
	private explicit_type "bool"
	init_value "false"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 986758 "best_bids_stream_"
	private type class_ref 800134 // ofstream
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 986886 "best_asks_stream_"
	private type class_ref 800134 // ofstream
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 986374 "trades_"
	private explicit_type "bool"
	init_value "false"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 987014 "trades_stream_"
	private type class_ref 800134 // ofstream
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 986118 "depth_"
	private explicit_type "bool"
	init_value "false"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 986502 "bids_stream_"
	private type class_ref 800134 // ofstream
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 986630 "asks_stream_"
	private type class_ref 800134 // ofstream
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      operation 1072390 "orderEvent"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1092358 "era"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	comment "signals to the Store that the new era has been started"
      end

      classrelation 1028102 // <generalisation>
	relation 1017734 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 1028102 // <generalisation>
	  b parent class_ref 441222 // MessageHandler
      end

      classrelation 1028230 // <dependency>
	relation 1017862 -_->
	  a public
	    cpp default "#include in source"
	    classrelation_ref 1028230 // <dependency>
	  b parent class_ref 448390 // OrderEvent
      end

      classrelation 1028358 // <dependency>
	relation 1017990 -_->
	  a public
	    cpp default "#include in source"
	    classrelation_ref 1028358 // <dependency>
	  b parent class_ref 521478 // Era
      end

      operation 1385606 "reset"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      classrelation 1238918 // security_ (<directional aggregation>)
	relation 1228550 o-->
	  stereotype "shared_ptr"
	  a role_name "security_" multiplicity "1" private
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<${type}> ${name}${value};
"
	    classrelation_ref 1238918 // security_ (<directional aggregation>)
	  b multiplicity "1..*" parent class_ref 1067398 // Security
      end

      operation 1596294 "stripe"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1597958 "toCsv"
	const cpp_virtual private explicit_return_type "string"
	nparams 1
	  param in name "stripe" type class_ref 1080966 // Stripe
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1619206 "toCsv"
	const cpp_virtual private explicit_return_type "string"
	nparams 1
	  param in name "dot" type class_ref 1094406 // Dot
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1596422 "dot"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1597062 "saveDeleted"
	public return_type class_ref 229510 // File
	nparams 1
	  param in name "save" explicit_type "bool"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type}& ${name}${(}${t0} ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type}& ${class}::${name}${(}${t0} ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1597190 "saveOrderEvents"
	public return_type class_ref 229510 // File
	nparams 1
	  param in name "save" explicit_type "bool"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type}& ${name}${(}${t0} ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type}& ${class}::${name}${(}${t0} ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1597702 "saveEventSource"
	public return_type class_ref 229510 // File
	nparams 1
	  param in name "save" explicit_type "bool"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type}& ${name}${(}${t0} ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type}& ${class}::${name}${(}${t0} ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1597318 "saveDepth"
	public return_type class_ref 229510 // File
	nparams 1
	  param in name "save" explicit_type "bool"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type}& ${name}${(}${t0} ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type}& ${class}::${name}${(}${t0} ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1597446 "saveSpread"
	public return_type class_ref 229510 // File
	nparams 1
	  param in name "save" explicit_type "bool"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type}& ${name}${(}${t0} ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type}& ${class}::${name}${(}${t0} ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1597574 "saveTrades"
	public return_type class_ref 229510 // File
	nparams 1
	  param in name "save" explicit_type "bool"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type}& ${name}${(}${t0} ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type}& ${class}::${name}${(}${t0} ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      classrelation 1287814 // <dependency>
	relation 1277446 -_->
	  a public
	    cpp default "#include in source"
	    classrelation_ref 1287814 // <dependency>
	  b parent class_ref 1080966 // Stripe
      end
    end

    classdiagram 525190 "Transmuter"
      classdiagramsettings member_max_width 0 end
      size A4
    end

    class 1087622 "Transmuter"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      operation 1605638 "Transmuter"
	public explicit_return_type ""
	nparams 1
	  param in name "next" type class_ref 950918 // MessageHandler_SP
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${t0} ${p0}${v0}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${t0} ${p0}${)}${volatile}${throw} : MessageHandler{next, \"Transmuter - \", false} {
  ${body}}
"
	
	
	
	
      end

      classrelation 1273222 // <generalisation>
	relation 1262854 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 1273222 // <generalisation>
	  b parent class_ref 441222 // MessageHandler
      end

      class 1087750 "PriceLevel"
	visibility public 
	cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	class 1087878 "PriceLevel_SP"
	  visibility public stereotype "template_typedef"
	  nactuals 1
	  actual class class_ref 852614 // shared_ptr
	    rank 0 value class_ref 1087750 // PriceLevel
	  cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	  java_decl ""
	  php_decl ""
	  python_2_2 python_decl ""
	  idl_decl ""
	  explicit_switch_type ""
	  mysql_decl ""
	  
	  classrelation 1273478 // <realization>
	    relation 1263110 -_-|>
	      stereotype "bind"
	      a public
		cpp default "${type}"
		classrelation_ref 1273478 // <realization>
	      b parent class_ref 852614 // shared_ptr
	  end
	end

	operation 1587206 "take"
	  public explicit_return_type "bool"
	  nparams 2
	    param inout name "event" type class_ref 1040262 // OrderEvent_UP
	    param out name "stripes" type class_ref 903046 // Messages
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} && ${p0}${v0}, ${t1} & ${p1}${v1}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} && ${p0}, ${t1} & ${p1}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	end

	operation 1589254 "advance"
	  public explicit_return_type "void"
	  nparams 2
	    param in name "timestamp" type class_ref 230278 // Timestamp
	    param out name "stripes" type class_ref 903046 // Messages
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}, ${t1} & ${p1}${v1}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}, ${t1} & ${p1}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	end

	operation 1587718 "empty"
	  cpp_inline public explicit_return_type "bool"
	  nparams 0
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	end

	classrelation 1280390 // events_ (<directional aggregation>)
	  relation 1270022 o-->
	    stereotype "vector"
	    a role_name "events_" multiplicity "*" private
	      cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<${type}> ${name}${value};
"
	      classrelation_ref 1280390 // events_ (<directional aggregation>)
	    b parent class_ref 1040262 // OrderEvent_UP
	end

	operation 1587846 "bestSince"
	  public explicit_return_type "void"
	  nparams 2
	    param in name "timestamp" type class_ref 230278 // Timestamp
	    param out name "stripes" type class_ref 903046 // Messages
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}, ${t1} & ${p1}${v1}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}, ${t1} & ${p1}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	end

	operation 1587974 "bestUntil"
	  public explicit_return_type "void"
	  nparams 2
	    param in name "timestamp" type class_ref 230278 // Timestamp
	    param out name "stripes" type class_ref 903046 // Messages
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}, ${t1} & ${p1}${v1}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}, ${t1} & ${p1}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	end

	operation 1588230 "volume"
	  const public return_type class_ref 305798 // Volume
	  nparams 0
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	end

	attribute 978694 "start_"
	  private type class_ref 230278 // Timestamp
	  cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	end

	attribute 978822 "is_best_"
	  private explicit_type "bool"
	  cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	end

	classrelation 1280902 // <dependency>
	  relation 1270534 -_->
	    a public
	      cpp default "#include in source"
	      classrelation_ref 1280902 // <dependency>
	    b parent class_ref 1080966 // Stripe
	end

	operation 1605254 "start"
	  const cpp_inline public return_type class_ref 230278 // Timestamp
	  nparams 0
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	end

	operation 1605382 "isBest"
	  const cpp_inline public explicit_return_type "bool"
	  nparams 0
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	end

	classrelation 1308678 // <dependency>
	  relation 1298310 -_->
	    a public
	      cpp default "#include in source"
	      classrelation_ref 1308678 // <dependency>
	    b parent class_ref 1094406 // Dot
	end
      end

      classrelation 1273606 // previous_ (<directional composition>)
	relation 1263238 *-->
	  stereotype "map"
	  a role_name "previous_" multiplicity "*" private
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<OrderEvent::OrderId, ${type}> ${name}${value};
"
	    classrelation_ref 1273606 // previous_ (<directional composition>)
	  b parent class_ref 1087878 // PriceLevel_SP
      end

      classrelation 1273734 // bids_ (<directional composition>)
	relation 1263366 *-->
	  stereotype "map"
	  a role_name "bids_" multiplicity "*" private
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<Price, ${type}> ${name}${value};
"
	    classrelation_ref 1273734 // bids_ (<directional composition>)
	  b parent class_ref 1087878 // PriceLevel_SP
      end

      classrelation 1273862 // asks_ (<directional composition>)
	relation 1263494 *-->
	  stereotype "map"
	  a role_name "asks_" multiplicity "*" private
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<Price, ${type}> ${name}${value};
"
	    classrelation_ref 1273862 // asks_ (<directional composition>)
	  b parent class_ref 1087878 // PriceLevel_SP
      end

      operation 1586822 "orderEvent"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1587078 "reset"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 1625862 "era"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      classrelation 1280646 // best_bid_ (<directional aggregation>)
	relation 1270278 o-->
	  stereotype "shared_ptr"
	  a role_name "best_bid_" multiplicity "0..1" private
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<${type}> ${name}${value};
"
	    classrelation_ref 1280646 // best_bid_ (<directional aggregation>)
	  b parent class_ref 1087750 // PriceLevel
      end

      classrelation 1280774 // best_ask_ (<directional aggregation>)
	relation 1270406 o-->
	  stereotype "shared_ptr"
	  a role_name "best_ask_" multiplicity "0..1" private
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<${type}> ${name}${value};
"
	    classrelation_ref 1280774 // best_ask_ (<directional aggregation>)
	  b parent class_ref 1087750 // PriceLevel
      end

      operation 1587590 "elapsed"
	cpp_override public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      attribute 1008134 "buys_"
	private type class_ref 305798 // Volume
	multiplicity "*"
	stereotype "map"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<Price, ${type}> ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 1008262 "sells_"
	private type class_ref 305798 // Volume
	multiplicity "*"
	stereotype "map"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<Price, ${type}> ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end

      attribute 1014918 "passed_era_"
	private explicit_type "bool"
	init_value "false"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end
    end

    state 328966 "PriceChangeEliminator"
      stereotype "machine"
      comment "Replaces events with a price change by pair of events (deleted/created), so it appears that the order has been cancelled and then placed again with the new price
"
      statediagram 578822 "ReplacePriceChanges"
	statediagramsettings show_trans_definition yes draw_all_relations yes
	 end
	size A4
      end

      state 329094 "waiting"
	transition 604934 "reset"
	  on state_ref 329094 // waiting
	    uml_trigger "reset"
	    uml_expr "clear all saved prices"
	    cpp_trigger "reset"
	end

	transition 605062 "<transition>"
	  on pseudostate_ref 409606 // choice 
	    uml_trigger "orderEvent"
	    cpp_trigger "orderEvent"
	  external 
	end
      end

      pseudostate 409478 initial ""
	transition 604806 "<transition>"
	  on state_ref 329094 // waiting
	  external 
	end
      end

      pseudostate 409606 choice ""
	transition 605318 "<transition>"
	  on pseudostate_ref 409734 // junction 
	    uml_guard "deleted"
	    uml_expr "clear saved price"
	    cpp_guard "false"
	  external 
	end

	transition 605446 "<transition>"
	  on pseudostate_ref 409862 // choice 
	    uml_guard "changed"
	    cpp_guard "false"
	  external 
	end

	transition 605830 "<transition>"
	  on pseudostate_ref 409734 // junction 
	    uml_guard "created"
	    uml_expr "save price"
	    cpp_guard "true"
	  external 
	end

	transition 606086 "<transition>"
	  on pseudostate_ref 409990 // final 
	    uml_guard "else"
	  external 
	end
      end

      pseudostate 409734 junction ""
	transition 605190 "<transition>"
	  on state_ref 329094 // waiting
	    uml_expr "pass "
	  external 
	end
      end

      pseudostate 409862 choice ""
	transition 605574 "<transition>"
	  on pseudostate_ref 409734 // junction 
	    uml_guard "price hasn't changed"
	    cpp_guard "false"
	  external 
	end

	transition 605702 "<transition>"
	  on state_ref 329094 // waiting
	    uml_guard "else"
	    uml_expr "split into deleted/created, update saved price"
	    cpp_guard "true"
	  external 
	end
      end

      pseudostate 409990 final ""
      end
    end

    state 335622 "SamePriceMerger"
      stereotype "machine"
      statediagram 585478 "MergeByPrice"
	statediagramsettings show_trans_definition yes
	 end
	size A4
      end

      state 335750 "waiting"
	transition 612870 "orderEvent"
	  on pseudostate_ref 416774 // choice 
	    uml_trigger "orderEvent"
	    uml_expr "find Level2 by price"
	    cpp_trigger "orderEvent"
	  external 
	end

	transition 613382 "reset"
	  on state_ref 335750 // waiting
	    uml_trigger "reset"
	    uml_expr "clear all Level2"
	    cpp_trigger "reset"
	end
      end

      pseudostate 416518 initial ""
	transition 612614 "<transition>"
	  on state_ref 335750 // waiting
	  external 
	end
      end

      pseudostate 416774 choice ""
	transition 612998 "<transition>"
	  on pseudostate_ref 416902 // junction 
	    uml_guard "found"
	  external 
	end

	transition 613126 "<transition>"
	  on pseudostate_ref 416902 // junction 
	    uml_guard "else"
	    uml_expr "create and store Level2"
	    cpp_guard "true"
	  external 
	end
      end

      pseudostate 416902 junction ""
	transition 613254 "<transition>"
	  on state_ref 335750 // waiting
	    uml_expr "save Level2 handle output"
	  external 
	end
      end
    end

    class 1176326 "PriceChangeEliminator"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      ncouples 1
      key "STM generated" value ""
      comment " implement the state machine PriceChangeEliminator"
      class 1176454 "AnyState"
	abstract visibility protected 
	cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	ncouples 1
	key "STM generated" value ""
	comment " Mother class of all the classes representing states"
	operation 1740934 "~AnyState"
	  force_body_gen cpp_virtual public explicit_return_type ""
	  nparams 0
	  cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	  cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	end

	operation 1741062 "_upper"
	  abstract force_body_gen cpp_virtual public return_type class_ref 1176454 // AnyState
	  nparams 1
	    param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " return the upper state"
	end

	operation 1741190 "_do"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " perform the 'do activity'"
	end

	operation 1741318 "_doentry"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " performs the 'entry activity'"
	end

	operation 1741446 "_doexit"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " performs the 'exit activity'"
	end

	operation 1742214 "reset"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event reset, give it to the upper state"
	end

	operation 1742598 "orderEvent"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event orderEvent, give it to the upper state"
	end

	operation 1743110 "create"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	end
      end

      class 1176582 "PriceChangeEliminator_State"
	visibility protected 
	cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	ncouples 1
	key "STM generated" value ""
	comment " implement the state PriceChangeEliminator"
	class 1176710 "waiting_State"
	  visibility public 
	  cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	  java_decl ""
	  php_decl ""
	  python_2_2 python_decl ""
	  idl_decl ""
	  explicit_switch_type ""
	  mysql_decl ""
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " implement the state waiting"
	  operation 1741702 "~waiting_State"
	    force_body_gen cpp_virtual public explicit_return_type ""
	    nparams 0
	    cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	    cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	  end

	  classrelation 1407110 // <generalisation>
	    relation 1396742 ---|>
	      a public
		cpp default "${type}"
		classrelation_ref 1407110 // <generalisation>
	      b parent class_ref 1176454 // AnyState
	  end

	  operation 1742342 "reset"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event reset"
	  end

	  operation 1742726 "orderEvent"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event orderEvent"
	  end

	  operation 1742854 "_upper"
	    force_body_gen cpp_virtual public return_type class_ref 1176454 // AnyState
	    nparams 1
	      param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " returns the state containing the current"
	  end
	end

	operation 1741574 "~PriceChangeEliminator_State"
	  force_body_gen cpp_virtual public explicit_return_type ""
	  nparams 0
	  cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	  cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	end

	attribute 1069958 "_waiting_state"
	  public type class_ref 1176710 // waiting_State
	  cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	  ncouples 1
	  key "STM generated" value ""
	  comment " memorize the instance of the state waiting, internal"
	end

	classrelation 1406982 // <generalisation>
	  relation 1396614 ---|>
	    a public
	      cpp default "${type}"
	      classrelation_ref 1406982 // <generalisation>
	    b parent class_ref 1176454 // AnyState
	end

	operation 1743238 "create"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " to manage the event create"
	end

	operation 1743366 "_junction1"
	  force_body_gen public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " implement a junction, through an operation because shared, internal"
	end

	operation 1743494 "_upper"
	  force_body_gen cpp_virtual public return_type class_ref 1176454 // AnyState
	  nparams 1
	    param inout name "stm" type class_ref 1176326 // PriceChangeEliminator
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " returns the state containing the current"
	end
      end

      attribute 1069702 "_machine_name"
	public explicit_type "string"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
	ncouples 1
	key "STM generated" value ""
	comment " a (unique) name of the machine "
      end

      attribute 1069830 "_pricechangeeliminator_state"
	protected type class_ref 1176582 // PriceChangeEliminator_State
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
	ncouples 1
	key "STM generated" value ""
	comment " memorize the instance of the state PriceChangeEliminator, internal"
      end

      operation 1741830 "PriceChangeEliminator"
	force_body_gen public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
      end

      operation 1741958 "~PriceChangeEliminator"
	force_body_gen cpp_virtual public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
      end

      operation 1742086 "reset"
	force_body_gen public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event reset"
      end

      operation 1742470 "orderEvent"
	force_body_gen public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event orderEvent"
      end

      classrelation 1407238 // <dependency>
	relation 1396870 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1407238 // <dependency>
	  b parent class_ref 1176710 // waiting_State
      end

      operation 1742982 "create"
	force_body_gen public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event create"
      end

      classrelation 1407366 // <dependency>
	relation 1396998 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1407366 // <dependency>
	  b parent class_ref 1176582 // PriceChangeEliminator_State
      end

      operation 1743622 "doActivity"
	force_body_gen public explicit_return_type "void"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " to execute the current state 'do activity'"
      end

      operation 1743750 "_set_currentState"
	force_body_gen cpp_inline protected explicit_return_type "void"
	nparams 1
	  param inout name "st" type class_ref 1176454 // AnyState
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " change the current state, internal"
      end

      operation 1743878 "_final"
	force_body_gen protected explicit_return_type "void"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " execution done, internal"
      end

      classrelation 1407494 // _current_state (<directional aggregation>)
	relation 1397126 o-->
	  a role_name "_current_state" protected
	    comment " contains the current state, internal"
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} * ${name}${value};
"
	    classrelation_ref 1407494 // _current_state (<directional aggregation>)
	  b parent class_ref 1176454 // AnyState
      end
    end

    class 1176838 "SamePriceMerger"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      ncouples 1
      key "STM generated" value ""
      comment " implement the state machine SamePriceMerger"
      class 1176966 "AnyState"
	abstract visibility protected 
	cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	ncouples 1
	key "STM generated" value ""
	comment " Mother class of all the classes representing states"
	operation 1744006 "~AnyState"
	  force_body_gen cpp_virtual public explicit_return_type ""
	  nparams 0
	  cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	  cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	end

	operation 1744134 "_upper"
	  abstract force_body_gen cpp_virtual public return_type class_ref 1176966 // AnyState
	  nparams 1
	    param inout name "stm" type class_ref 1176838 // SamePriceMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " return the upper state"
	end

	operation 1744262 "_do"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176838 // SamePriceMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " perform the 'do activity'"
	end

	operation 1744390 "_doentry"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176838 // SamePriceMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " performs the 'entry activity'"
	end

	operation 1744518 "_doexit"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176838 // SamePriceMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " performs the 'exit activity'"
	end

	operation 1745286 "orderEvent"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176838 // SamePriceMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event orderEvent, give it to the upper state"
	end

	operation 1745670 "reset"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176838 // SamePriceMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " the current state doesn't manage the event reset, give it to the upper state"
	end

	operation 1746182 "create"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176838 // SamePriceMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	end
      end

      class 1177094 "SamePriceMerger_State"
	visibility protected 
	cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	ncouples 1
	key "STM generated" value ""
	comment " implement the state SamePriceMerger"
	class 1177222 "waiting_State"
	  visibility public 
	  cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
	  java_decl ""
	  php_decl ""
	  python_2_2 python_decl ""
	  idl_decl ""
	  explicit_switch_type ""
	  mysql_decl ""
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " implement the state waiting"
	  operation 1744774 "~waiting_State"
	    force_body_gen cpp_virtual public explicit_return_type ""
	    nparams 0
	    cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	    cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	  end

	  classrelation 1407750 // <generalisation>
	    relation 1397382 ---|>
	      a public
		cpp default "${type}"
		classrelation_ref 1407750 // <generalisation>
	      b parent class_ref 1176966 // AnyState
	  end

	  operation 1745414 "orderEvent"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 1176838 // SamePriceMerger
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event orderEvent"
	  end

	  operation 1745798 "reset"
	    force_body_gen cpp_virtual public explicit_return_type "void"
	    nparams 1
	      param inout name "stm" type class_ref 1176838 // SamePriceMerger
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " to manage the event reset"
	  end

	  operation 1745926 "_upper"
	    force_body_gen cpp_virtual public return_type class_ref 1176966 // AnyState
	    nparams 1
	      param inout name "stm" type class_ref 1176838 // SamePriceMerger
	    cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	    cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	    
	    
	    
	    
	    ncouples 1
	    key "STM generated" value ""
	    comment " returns the state containing the current"
	  end
	end

	operation 1744646 "~SamePriceMerger_State"
	  force_body_gen cpp_virtual public explicit_return_type ""
	  nparams 0
	  cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	  cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	end

	attribute 1070342 "_waiting_state"
	  public type class_ref 1177222 // waiting_State
	  cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	  java_decl ""
	  php_decl ""
	  python_decl ""
	  idl_decl ""
	  mysql_decl ""
	  MysqlColumn
	  ncouples 1
	  key "STM generated" value ""
	  comment " memorize the instance of the state waiting, internal"
	end

	classrelation 1407622 // <generalisation>
	  relation 1397254 ---|>
	    a public
	      cpp default "${type}"
	      classrelation_ref 1407622 // <generalisation>
	    b parent class_ref 1176966 // AnyState
	end

	operation 1746310 "create"
	  force_body_gen cpp_virtual public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176838 // SamePriceMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " to manage the event create"
	end

	operation 1746438 "_junction1"
	  force_body_gen public explicit_return_type "void"
	  nparams 1
	    param inout name "stm" type class_ref 1176838 // SamePriceMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " implement a junction, through an operation because shared, internal"
	end

	operation 1746566 "_upper"
	  force_body_gen cpp_virtual public return_type class_ref 1176966 // AnyState
	  nparams 1
	    param inout name "stm" type class_ref 1176838 // SamePriceMerger
	  cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} * ${name}${(}${t0} &${)}${const}${volatile}${throw}${abstract};
"
	  cpp_def "${comment}${inline}${typeprefix}${type} * ${class}::${name}${(}${t0} &${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	  
	  
	  
	  
	  ncouples 1
	  key "STM generated" value ""
	  comment " returns the state containing the current"
	end
      end

      attribute 1070086 "_machine_name"
	public explicit_type "string"
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
	ncouples 1
	key "STM generated" value ""
	comment " a (unique) name of the machine "
      end

      attribute 1070214 "_samepricemerger_state"
	protected type class_ref 1177094 // SamePriceMerger_State
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
	ncouples 1
	key "STM generated" value ""
	comment " memorize the instance of the state SamePriceMerger, internal"
      end

      operation 1744902 "SamePriceMerger"
	force_body_gen public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
      end

      operation 1781126 "SamePriceMerger"
	force_body_gen public explicit_return_type ""
	nparams 1
	  param in name "next" type class_ref 950918 // MessageHandler_SP
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}const ${t0} & ${p0}${v0}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}const ${t0} & ${p0}${)}${volatile}${throw} : TokenHandler{next, \"SamePriceMerger\"}, _current_state{0}  {
  ${body}}
"
	
	
	
	
      end

      operation 1745030 "~SamePriceMerger"
	force_body_gen cpp_virtual public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
      end

      operation 1745158 "orderEvent"
	force_body_gen public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event orderEvent"
      end

      operation 1745542 "reset"
	force_body_gen public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event reset"
      end

      classrelation 1407878 // <dependency>
	relation 1397510 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1407878 // <dependency>
	  b parent class_ref 1177222 // waiting_State
      end

      operation 1746054 "create"
	force_body_gen public explicit_return_type "bool"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " the operation you call to signal the event create"
      end

      classrelation 1408006 // <dependency>
	relation 1397638 -_->
	  stereotype "friend"
	  a public
	    cpp default "${type}"
	    classrelation_ref 1408006 // <dependency>
	  b parent class_ref 1177094 // SamePriceMerger_State
      end

      operation 1746694 "doActivity"
	force_body_gen public explicit_return_type "void"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " to execute the current state 'do activity'"
      end

      operation 1746822 "_set_currentState"
	force_body_gen cpp_inline protected explicit_return_type "void"
	nparams 1
	  param inout name "st" type class_ref 1176966 // AnyState
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " change the current state, internal"
      end

      operation 1746950 "_final"
	force_body_gen protected explicit_return_type "void"
	nparams 0
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
	ncouples 1
	key "STM generated" value ""
	comment " execution done, internal"
      end

      classrelation 1408134 // _current_state (<directional aggregation>)
	relation 1397766 o-->
	  a role_name "_current_state" protected
	    comment " contains the current state, internal"
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} * ${name}${value};
"
	    classrelation_ref 1408134 // _current_state (<directional aggregation>)
	  b parent class_ref 1176966 // AnyState
      end
    end
  end

  classview 280710 "Reconstructor"
    
    classdiagramsettings member_max_width 0 end
    
    classcompositediagramsettings end
    
    collaborationdiagramsettings end
    
    objectdiagramsettings end
    
    objectcompositediagramsettings end
    
    sequencediagramsettings end
    
    statediagramsettings
     end
    
    
    activitydiagramsettings
     end
    sequencediagram 545286 "Message - accept"
      sequencediagramsettings end
      overlapping_bars size A4
    end

    class 1108486 "processing_error"
      visibility public 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      class 1121670 "Message_SP"
	visibility public stereotype "template_typedef"
	nactuals 1
	actual class class_ref 852614 // shared_ptr
	  rank 0 value class_ref 245766 // Message
	cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 1334790 // <realization>
	  relation 1324422 -_-|>
	    stereotype "bind"
	    a public
	      cpp default "${type}"
	      classrelation_ref 1334790 // <realization>
	    b parent class_ref 852614 // shared_ptr
	end
      end

      classrelation 1321734 // <generalisation>
	relation 1311366 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 1321734 // <generalisation>
	  b parent class_ref 1108614 // exception
      end

      operation 1632390 "processing_error"
	public explicit_return_type ""
	nparams 1
	  param in name "msg" type class_ref 1121670 // Message_SP
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${t0} && ${p0}${v0}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${t0} && ${p0}${)}${throw} : msg_{msg} {
  ${body}}
"
	
	
	
	
      end

      attribute 1021446 "msg_"
	private type class_ref 1121670 // Message_SP
	cpp_decl "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${type} ${name}${value};
"
	java_decl ""
	php_decl ""
	python_decl ""
	idl_decl ""
	mysql_decl ""
	MysqlColumn
      end
    end

    classdiagram 287878 "Reconstructor"
      classdiagramsettings show_members_visibility yes member_max_width 0 end
      size A4
    end

    class 486278 "Reconstructor"
      abstract visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      class 1142662 "Reconstructor_SP"
	visibility public stereotype "template_typedef"
	nactuals 1
	actual class class_ref 852614 // shared_ptr
	  rank 0 value class_ref 486278 // Reconstructor
	cpp_decl "${comment}${template}using ${name} = ${inherit};
"
	java_decl ""
	php_decl ""
	python_2_2 python_decl ""
	idl_decl ""
	explicit_switch_type ""
	mysql_decl ""
	
	classrelation 1366022 // <realization>
	  relation 1355654 -_-|>
	    stereotype "bind"
	    a public
	      cpp default "${type}"
	      classrelation_ref 1366022 // <realization>
	    b parent class_ref 852614 // shared_ptr
	end
      end

      operation 766982 "toUuid"
	class_operation constvalue public return_type class_ref 472582 // uuid
	nparams 1
	  param in name "id" explicit_type "string"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 767110 "toTimestamp"
	class_operation constvalue public return_type class_ref 230278 // Timestamp
	nparams 1
	  param in name "timestamp" explicit_type "string"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}${t0} ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}${t0} ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 576006 "extract"
	cpp_virtual protected return_type class_ref 903046 // Messages
	multiplicity "1..*"
	nparams 1
	  param in name "tree" type class_ref 174214 // ptree
	multiplicity "1"
	nexceptions 1
	  exception class_ref 1108614 // exception
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 575878 "process"
	public explicit_return_type "void"
	nparams 1
	  param in name "message" type class_ref 174214 // ptree
	multiplicity "1"
	nexceptions 1
	  exception class_ref 1108614 // exception
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      operation 827910 "Reconstructor"
	public explicit_return_type ""
	nparams 1
	  param in name "handler" type class_ref 950918 // MessageHandler_SP
	cpp_decl "    ${comment}${inline}${typeprefix}${name}${(}${t0} ${p0}${v0}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${t0} ${p0}${)}${throw} : next_{handler} {
  ${body}}
"
	
	
	
	
      end

      classrelation 1359494 // next_ (<directional aggregation>)
	relation 1349126 o-->
	  stereotype "shared_ptr"
	  a role_name "next_" multiplicity "1" protected
	    cpp default "    ${comment}${static}${thread_local}${mutable}${volatile}${const}${stereotype}<${type}> ${name}${value};
"
	    classrelation_ref 1359494 // next_ (<directional aggregation>)
	  b parent class_ref 441222 // MessageHandler
      end

      operation 1701638 "~Reconstructor"
	cpp_virtual public explicit_return_type ""
	nparams 0
	cpp_decl "    ${comment}${inline}${virtual}${typeprefix}${name}${(}${)}${volatile}${throw};
"
	cpp_def "${comment}${inline}${typeprefix}${class}::${name}${(}${)}${volatile}${throw} {
  ${body}}
"
	
	
	
	
      end

      operation 1829638 "extractMessage"
	abstract cpp_virtual protected return_type class_ref 902918 // Message_UP
	multiplicity "1..*"
	nparams 1
	  param in name "tree" type class_ref 174214 // ptree
	multiplicity "1"
	nexceptions 1
	  exception class_ref 1108614 // exception
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${abstract};
"
	
	
	
	
      end
    end

    activity 188294 "Process message (obsolete)"
      specification operation_ref 575878 // process
      activitydiagram 572166 "Process message"
	activitydiagramsettings
	 end
	size A4
      end

      parameter 245766 "tree" type class_ref 174214 // ptree
	 multiplicity "1" unordered 
	in
	flow 455046 "D.01.2"
	  on pin_ref 394246 // tree
	end
      end

      parameter 246022 "target" type class_ref 486278 // Reconstructor
	 multiplicity "1" unordered 
	in
	flow 493574 "D.01.1"
	  on activitynode_ref 345094 // fork
	end
      end

      activityaction 287366 "extract"
	call_operation_action
	synchronous operation_ref 576006 // extract
	pin 394246 "tree" type class_ref 174214 // ptree
	   multiplicity "1" unordered 
	  in
	end

	pin 396806 "target" type class_ref 486278 // Reconstructor
	   multiplicity "1" unordered is_control
	  in
	end

	pin 394118 "out" type class_ref 902918 // Message_UP
	   multiplicity "1" unordered is_control
	  return
	  flow 493958 "D.01.4"
	    on pin_ref 420870 // token_in
	  end
	end

	pin 397702 "error" type class_ref 1108486 // processing_error
	   multiplicity "1" unordered 
	  out exception
	  flow 457862 "D.01.6"
	    on parameter_ref 245894 // error
	  end
	end
      end

      parameter 245894 "error" type class_ref 1108486 // processing_error
	 multiplicity "1" unordered is_control
	out exception
      end

      activityaction 309126 "Chain of handlers"
	call_behavior_action
	synchronous activity_ref 201350 // Chain of handlers
	pin 420870 "token_in" type class_ref 902918 // Message_UP
	   multiplicity "1" unordered is_control
	  in
	end

	pin 420998 "handler" type class_ref 441222 // MessageHandler
	   multiplicity "1" unordered is_control
	  in
	end

	pin 421126 "error" explicit_type ""
	   multiplicity "1" unordered 
	  out exception
	  flow 494086 "D.01.7"
	    on parameter_ref 245894 // error
	  end
	end
      end

      activitynode 345094 fork ""
	flow 493702 "D.01.3"
	  on pin_ref 396806 // target
	end

	flow 587014 "D.01.5"
	  on pin_ref 507014 // object
	end
      end

      activityaction 366470 "Read \"next_\""
	read_structural_feature_action
	classrelation_ref 1078406 // next_ (<directional aggregation>)
	pin 507014 "object" type class_ref 486278 // Reconstructor
	   multiplicity "1" unordered is_control
	  in
	end

	pin 507142 "result" type class_ref 441222 // MessageHandler
	   multiplicity "1" unordered is_control
	  out
	  flow 588422 "D.01.8"
	    on pin_ref 420998 // handler
	  end
	end
      end
    end

    activity 201350 "Chain of handlers"
      parameter 259206 "token_in" explicit_type ""
	unordered 
	in
	flow 491654 "E.01.2"
	  on activitynode_ref 344326 // merge
	end
      end

      parameter 259334 "handler" type class_ref 441222 // MessageHandler
	 multiplicity "1" unordered is_control
	in
	flow 491270 "E.01.1"
	  on activitynode_ref 344198 // fork
	end
      end

      parameter 265862 "error" type class_ref 1108486 // processing_error
	 multiplicity "1" unordered is_control
	out exception
      end

      expansionregion 154886 ""
	iterative
	activityaction 302342 "handle"
	  call_operation_action
	  synchronous operation_ref 590214 // handle
	  pin 419718 "target" type class_ref 441222 // MessageHandler
	     multiplicity "1" unordered is_control
	    in
	  end

	  pin 419846 "token_out" type class_ref 902918 // Message_UP
	     multiplicity "*" unordered is_control
	    return
	    flow 493190 "E.01.8"
	      on expansionnode_ref 155398 // output
	    end
	  end

	  pin 419974 "token_in" type class_ref 902918 // Message_UP
	     multiplicity "1" unordered is_control
	    in
	  end

	  pin 421254 "error" type class_ref 1108486 // processing_error
	     multiplicity "1" unordered 
	    out exception
	    flow 493446 "E.01.14"
	      on parameter_ref 265862 // error
	    end
	  end
	end

	expansionnode 155270 "input"
	   type class_ref 902918 // Message_UP
	   multiplicity "1..*" unordered is_control
	  flow 493318 "E.01.7"
	    on pin_ref 419974 // token_in
	  end
	end

	expansionnode 155398 "output"
	   type class_ref 902918 // Message_UP
	   multiplicity "*" fifo is_control
	  flow 492678 "E.01.9"
	    on activitynode_ref 344582 // join
	  end
	end
      end

      activitynode 344198 fork ""
	flow 492422 "E.01.3"
	  on activitynode_ref 344326 // merge
	end

	flow 586758 "E.01.10"
	  on pin_ref 506758 // object
	end
      end

      activitynode 344326 merge ""
	flow 492038 "E.01.4"
	  on activitynode_ref 344454 // decision
	end
      end

      activitynode 344454 decision ""
	flow 492166 "E.01.5"
	  on expansionnode_ref 155270 // input
	    uml_guard "else"
	end

	flow 492294 "E.01.6"
	  on pin_ref 419718 // target
	    uml_guard "is TokenHandler"
	end
      end

      activitynode 344582 join ""
	flow 492806 "E.01.11"
	  on activitynode_ref 344838 // decision
	end
      end

      activitynode 344838 decision ""
	flow 492934 "E.01.13"
	  on activitynode_ref 344966 // activity_final
	    uml_guard "empty"
	end

	flow 493062 "E.01.12"
	  on activitynode_ref 344326 // merge
	    uml_guard "else"
	end
      end

      activitynode 344966 activity_final ""
      end

      activityaction 366342 "Read \"next_\""
	read_structural_feature_action
	classrelation_ref 1078406 // next_ (<directional aggregation>)
	pin 506758 "object" type class_ref 441222 // MessageHandler
	   multiplicity "1" unordered is_control
	  in
	end

	pin 506886 "result" type class_ref 441222 // MessageHandler
	   multiplicity "0..1" unordered is_control
	  out
	  flow 586886 "E.01.14"
	    on activitynode_ref 344582 // join
	  end
	end
      end
    end

    activity 294022 "Process message"
      specification operation_ref 575878 // process
      activitydiagram 704390 "Process message"
	activitydiagramsettings
	 end
	size A4
      end

      parameter 349574 "message" type class_ref 174214 // ptree
	 multiplicity "1" unordered 
	in
	flow 729990 "<flow>"
	  on pin_ref 638726 // 
	end
      end

      parameter 349702 "error" type class_ref 1108614 // exception
	 multiplicity "1" unordered is_control
	out exception
      end

      activityaction 465542 "Extract message"
	call_operation_action
	synchronous operation_ref 576006 // extract
	pin 638470 "self" type class_ref 486278 // Reconstructor
	   multiplicity "1" unordered 
	  in
	end

	pin 638598 "" type class_ref 903046 // Messages
	   multiplicity "1" unordered 
	  return
	  flow 730246 "<flow>"
	    on activitynode_ref 484358 // merge
	  end
	end

	pin 638726 "" type class_ref 174214 // ptree
	   multiplicity "1" unordered 
	  in
	end

	pin 639622 "" type class_ref 1108614 // exception
	   multiplicity "1" unordered is_control
	  out exception
	  flow 733318 "<flow>"
	    on activitynode_ref 485638 // merge
	  end
	end
      end

      activitynode 484230 merge ""
	flow 732294 "<flow>"
	  on activitynode_ref 485254 // join
	end
      end

      activityaction 465670 "Read \"next_\""
	read_structural_feature_action
	classrelation_ref 1359494 // next_ (<directional aggregation>)
	pin 638854 "self" type class_ref 486278 // Reconstructor
	   multiplicity "1" unordered 
	  in
	end

	pin 638982 "" type class_ref 441222 // MessageHandler
	   multiplicity "1" unordered 
	  out
	  flow 730118 "<flow>"
	    on activitynode_ref 484230 // merge
	  end
	end
      end

      activitynode 484358 merge ""
	flow 732422 "<flow>"
	  on activitynode_ref 485254 // join
	end
      end

      activitynode 484742 activity_final ""
      end

      activitynode 484870 decision ""
	flow 730630 "<flow>"
	  on activitynode_ref 484742 // activity_final
	    uml_guard "empty"
	end

	flow 732550 "<flow>"
	  on activitynode_ref 485382 // fork
	    uml_guard "is MessageHandler"
	end

	flow 732806 "<flow>"
	  on expansionnode_ref 182406 // input
	    uml_guard "is Messages"
	end
      end

      expansionregion 174854 "handle"
	iterative
	activityaction 465798 "Handle message"
	  call_operation_action
	  synchronous operation_ref 590214 // handle
	  pin 639110 "target" type class_ref 441222 // MessageHandler
	    unordered is_control
	    in
	  end

	  pin 639238 "" type class_ref 903046 // Messages
	     multiplicity "1" unordered 
	    return
	    flow 731270 "<flow>"
	      on expansionnode_ref 182534 // output
	    end
	  end

	  pin 639366 "" type class_ref 902918 // Message_UP
	     multiplicity "1" unordered is_control
	    in
	  end

	  pin 639494 "" type class_ref 1108614 // exception
	     multiplicity "1" unordered is_control
	    out exception
	    flow 733190 "<flow>"
	      on activitynode_ref 485638 // merge
	    end
	  end
	end

	expansionnode 182406 "input"
	   type class_ref 903046 // Messages
	   multiplicity "1" unordered is_control
	  flow 731654 "<flow>"
	    on pin_ref 639366 // 
	  end
	end

	expansionnode 182534 "output"
	   type class_ref 903046 // Messages
	   multiplicity "1" unordered 
	  flow 731398 "<flow>"
	    on activitynode_ref 484358 // merge
	  end
	end
      end

      activitynode 485126 join ""
      end

      activitynode 485254 join ""
	flow 732166 "<flow>"
	  on activitynode_ref 484870 // decision
	end
      end

      activitynode 485382 fork ""
	flow 732678 "<flow>"
	  on activitynode_ref 484230 // merge
	      uml_transformation "next()"
	end

	flow 732934 "<flow>"
	  on pin_ref 639110 // target
	end
      end

      activitynode 485638 merge ""
	flow 733446 "<flow>"
	  on parameter_ref 349702 // error
	end
      end
    end
  end

  package_ref 214790 // Coinbase

  package_ref 214918 // Bitstamp

  package_ref 215046 // Bitfinex

  package_ref 254470 // File

  deploymentview 154246 "Source files"
    //deployment diagram settings
    deploymentdiagramsettings
     end
    artifact 353926 "EraMerger"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
#include <boost/smart_ptr/make_unique.hpp>
#include <boost/log/trivial.hpp>
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
	class_ref 1046918 // EraMerger
      end
    end

    artifact 347270 "EraSlicer"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
#include \"../date.h\"
#include <iostream>
#include <boost/smart_ptr/make_unique.hpp>
#include <boost/log/trivial.hpp>
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
	class_ref 1020678 // EraSlicer
      end
    end

    artifact 333446 "SizeDeducer"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
#include <boost/log/trivial.hpp>
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
	class_ref 542982 // SizeDeducer
      end
    end

    artifact 266630 "File"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
#include <boost/uuid/uuid_io.hpp>
#include <boost/uuid/nil_generator.hpp>
#include <boost/log/trivial.hpp>
#include <boost/pointer_cast.hpp>
#include <iomanip>
#include <sstream>
#include \"date.h\"
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
	class_ref 229510 // File
      end
    end

    artifact 180998 "Reconstructor"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
#include <iomanip>
#include <boost/uuid/string_generator.hpp>
#include <iostream>
#include \"date.h\"
#include <boost/log/trivial.hpp>
#include <boost/uuid/uuid_io.hpp>
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
	class_ref 486278 // Reconstructor
      end
    end

    artifact 300294 "MessageHandler"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
#include <boost/log/trivial.hpp>
#include \"../date.h\"
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
	class_ref 441222 // MessageHandler
      end
    end

    artifact 306822 "Message"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
Message::Timestamp operator \"\" _ts(const char *line, size_t);
${namespace_end}
#endif
"
      cpp_src "${comment}
#include \"../date.h\"
#include <sstream>
${includes}
${namespace_start}
${members}

Message::Timestamp operator \"\" _ts(const char *line, size_t) {
  Message::Timestamp output;
  std::istringstream ss{line};
  ss >> date::parse(\"%FT%TZ\", output);
  return output;
}

${namespace_end}"
      associated_elems
	class_ref 245766 // Message
	class_ref 903046 // Messages
      end
    end

    artifact 306950 "Era"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}

std::unique_ptr<Era> operator \"\" _era(const char *, size_t);
${namespace_end}
#endif
"
      cpp_src "${comment}
#include <boost/smart_ptr/make_unique.hpp>
#include <boost/smart_ptr/make_shared.hpp>
#include <sstream>
#include \"date.h\"
${includes}
${namespace_start}

std::unique_ptr<Era> operator \"\" _era(const char *line, size_t) {
    return boost::make_unique<Era>(line);
}
${members}
${namespace_end}
"
      associated_elems
	class_ref 521478 // Era
      end
    end

    artifact 307078 "OrderEvent"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}

std::unique_ptr<OrderEvent> operator \"\" _oe2(const char *, size_t);
std::unique_ptr<OrderEvent> operator \"\" _oe(const char *, size_t);
${namespace_end}
#endif
"
      cpp_src "${comment}
#include <boost/uuid/random_generator.hpp>
#include <boost/uuid/string_generator.hpp>
#include <boost/uuid/uuid_io.hpp>
#include <boost/smart_ptr/make_unique.hpp>
#include <sstream>
#include <iomanip>
#include <boost/smart_ptr/make_unique.hpp>
#include <boost/log/trivial.hpp>
#include \"../date.h\"
${includes}
${namespace_start}
std::unique_ptr<OrderEvent> operator \"\" _oe2(const char *line, size_t) {
  Message::Timestamp dummy;
  return boost::make_unique<OrderEvent>(line, dummy, 2);
}

std::unique_ptr<OrderEvent> operator \"\" _oe(const char *line, size_t) {
  Message::Timestamp dummy;
  return boost::make_unique<OrderEvent>(line, dummy, 3);
}
${members}
${namespace_end}
"
      associated_elems
	class_ref 448390 // OrderEvent
      end
    end

    artifact 307206 "Elapsed"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
std::unique_ptr<Elapsed> operator \"\" _elp(const char *, size_t);
${namespace_end}
#endif
"
      cpp_src "${comment}
${includes}
#include <sstream>
#include <boost/smart_ptr/make_unique.hpp>
#include \"date.h\"
${namespace_start}
${members}

std::unique_ptr<Elapsed> operator \"\" _elp(const char *line, size_t) {
    return boost::make_unique<Elapsed>(line);
}

${namespace_end}"
      associated_elems
	class_ref 441478 // Elapsed
      end
    end

    artifact 333702 "EventCounter"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
#include <boost/log/trivial.hpp>
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
	class_ref 564230 // EventCounter
      end
    end

    artifact 340614 "Reset"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
std::unique_ptr<Reset> operator \"\" _rst(const char *, size_t);
${namespace_end}
#endif
"
      cpp_src "${comment}
#include <sstream>
#include <boost/smart_ptr/make_unique.hpp>
#include \"date.h\"
${includes}
${namespace_start}
${members}

std::unique_ptr<Reset> operator \"\" _rst(const char *line, size_t) {
    return boost::make_unique<Reset>(line);
}

${namespace_end}
"
      associated_elems
	class_ref 966278 // Reset
      end
    end

    artifact 374022 "Security"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
${includes}
${namespace_start}
${members}
${namespace_end}"
      idl_src "#ifndef ${MODULE}_${NAME}_H
#define ${MODULE}_${NAME}_H

${comment}
${includes}
${module_start}
${definition}
${module_end}
#endif
"
      associated_elems
	class_ref 1067398 // Security
      end
    end

    artifact 380550 "Price"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
${includes}
${namespace_start}
${members}
${namespace_end}"
      java_src "${comment}
${package}
${imports}
${definition}"
      php_src "<?php
${comment}
${namespace}
${require_once}
${use}
${definition}
?>
"
      python_src "${comment}
${import}
${definition}"
      idl_src "#ifndef ${MODULE}_${NAME}_H
#define ${MODULE}_${NAME}_H

${comment}
${includes}
${module_start}
${definition}
${module_end}
#endif
"
      associated_elems
	class_ref 305542 // Price
      end
    end

    artifact 380678 "Volume"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
${includes}
${namespace_start}
${members}
${namespace_end}"
      idl_src "#ifndef ${MODULE}_${NAME}_H
#define ${MODULE}_${NAME}_H

${comment}
${includes}
${module_start}
${definition}
${module_end}
#endif
"
      associated_elems
	class_ref 305798 // Volume
      end
    end

    artifact 387974 "BookSide"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
${includes}
${namespace_start}
${members}
${namespace_end}"
      java_src "${comment}
${package}
${imports}
${definition}"
      php_src "<?php
${comment}
${namespace}
${require_once}
${use}
${definition}
?>
"
      python_src "${comment}
${import}
${definition}"
      idl_src "#ifndef ${MODULE}_${NAME}_H
#define ${MODULE}_${NAME}_H

${comment}
${includes}
${module_start}
${definition}
${module_end}
#endif
"
      associated_elems
	class_ref 271366 // BookSide
      end
    end

    artifact 388102 "PriceLevelAttached"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
	class_ref 1087494 // PriceLevelAttached
      end
    end

    artifact 394630 "Transmuter"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
#include <boost/pointer_cast.hpp>
#include <boost/log/trivial.hpp>
#include <boost/smart_ptr/make_unique.hpp>
#include <boost/smart_ptr/make_shared.hpp>
#include \"../date.h\"
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
	class_ref 1087622 // Transmuter
      end
    end

    artifact 394758 "Stripe"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
#include <sstream>
#include \"../date.h\"
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
	class_ref 1080966 // Stripe
      end
    end

    artifact 401286 "Dot"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
#include <sstream>
#include \"../date.h\"
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
	class_ref 1094406 // Dot
      end
    end

    artifact 421126 "processing_error"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
	class_ref 1108486 // processing_error
      end
    end
  end
end
