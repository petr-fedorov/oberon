format 223
"Standalone application" // Standalone application
  revision 40
  modified_by 6 "petr"
  // class settings
  
  classdiagramsettings member_max_width 0 end
  
  classcompositediagramsettings end
  
  usecasediagramsettings end
  
  sequencediagramsettings end
  
  collaborationdiagramsettings end
  
  objectdiagramsettings end
  
  objectcompositediagramsettings end
  
  componentdiagramsettings
   end
  
  deploymentdiagramsettings
   end
  
  statediagramsettings
   end
  
  activitydiagramsettings
   end
  
  cpp_h_dir "standalone"
  cpp_src_dir "standalone"
  cpp_namespace "oberon::standalone"
  usecaseview 134534 "Activity diagrams"
    
    usecasediagramsettings end
    
    sequencediagramsettings end
    
    collaborationdiagramsettings end
    
    classdiagramsettings member_max_width 0 end
    
    classcompositediagramsettings end
    
    objectdiagramsettings end
    
    objectcompositediagramsettings end
    
    statediagramsettings
     end
    
    activitydiagramsettings
     end
    activity 148230 "S.1 Standalone application"
      activitydiagram 181766 "S.1 Standalone application"
	activitydiagramsettings
	 end
	size A4
      end

      parameter 148998 "exchange_name" explicit_type "string"
	 multiplicity "1" unordered 
	in
	flow 243846 "S.1.4"
	  on pin_ref 237830 // exchange_name
	end
      end

      parameter 149126 "pair_name" explicit_type "string"
	 multiplicity "1" unordered 
	in
	comment "S.1 Standalone Application"
	flow 243718 "S.1.3"
	  on pin_ref 237958 // pair_name
	end
      end

      parameter 149254 "destination" explicit_type "string"
	 multiplicity "1" unordered 
	in
	flow 243590 "S.1.10"
	  on pin_ref 238470 // destination
	end
      end

      activityaction 192390 "S.5 Receive messages"
	call_behavior_action
	no_behavior
	pin 213126 "websocket" explicit_type "Websocket"
	   multiplicity "1" unordered 
	  in
	end

	pin 213254 "message" type class_ref 174214 // ptree
	   multiplicity "1" unordered 
	  out stream
	  flow 314502 "<flow>"
	    on activityobject_ref 180870 // activity object buffer
	  end
	end
      end

      activitynode 189958 initial_node ""
	flow 244230 "S.1.1"
	  on activityaction_ref 213638 // activity action S.7 Initialize
	end
      end

      activityaction 193542 "Stop request"
	accept_event_action
	flow 219782 "S.1.13"
	  on activitynode_ref 190086 // activity_final
	end
      end

      activitynode 190086 activity_final ""
      end

      interruptibleactivityregion 141062 ""
	activityaction 213638 "S.7 Initialize"
	  call_behavior_action
	  no_behavior
	  pin 237830 "exchange_name" explicit_type "string"
	     multiplicity "1" unordered 
	    in
	  end

	  pin 237958 "pair_name" explicit_type "string"
	     multiplicity "1" unordered 
	    in
	  end

	  pin 238086 "delay" explicit_type "double"
	     multiplicity "1" unordered 
	    in
	  end

	  pin 238214 "reconstructor" type class_ref 202630 // Reconstructor
	     multiplicity "1" unordered 
	    out
	    flow 329862 "<flow>"
	      on activityobject_ref 187398 // activity object reconstructor
	    end
	  end

	  pin 238342 "websocket" explicit_type ""
	     multiplicity "1" unordered 
	    out
	    flow 243974 "S.1.5"
	      on pin_ref 213126 // websocket
	    end
	  end

	  pin 238470 "destination" explicit_type "string"
	     multiplicity "1" unordered 
	    in
	  end

	  flow 272646 "S.1.6"
	    on activitynode_ref 229382 // fork
	  end
	end

	activitynode 229382 fork ""
	  flow 272902 "S.1.7"
	    on activityaction_ref 192390 // activity action S.5 Receive messages
	  end

	  flow 315142 "S.1.8"
	    on activityaction_ref 247302 // activity action R.1 Reconstruct Order Book
	  end
	end

	activityobject 180870 "buffer"
	   type class_ref 174214 // ptree
	   multiplicity "*" fifo 
	  flow 314886 "<flow>"
	    on pin_ref 298118 // 
	  end
	end

	activityaction 247302 "R.1 Reconstruct Order Book"
	  call_operation_action
	  operation_ref 188550 // process
	  pin 297990 "target" type class_ref 202630 // Reconstructor
	     multiplicity "1" unordered 
	    in
	  end

	  pin 298118 "" type class_ref 174214 // ptree
	     multiplicity "1" unordered 
	    in
	  end

	  pin 298246 "" type class_ref 472838 // time_order_error
	     multiplicity "1" unordered is_control
	    out exception
	    flow 314630 "<flow>"
	      on activitynode_ref 190086 // activity_final
	    end
	  end

	  flow 314758 "<flow>"
	    on activityaction_ref 247302 // activity action R.1 Reconstruct Order Book
	  end

	  pin 319110 "logic_error" explicit_type ""
	     multiplicity "1" unordered is_control
	    out exception
	    flow 374278 "<flow>"
	      on activitynode_ref 190086 // activity_final
	    end
	  end
	end

	activityobject 187398 "reconstructor"
	  stereotype "datastore"
	   explicit_type ""
	   multiplicity "1" unordered 
	  flow 329990 "<flow>"
	    on pin_ref 297990 // target
	  end
	end
      end

      parameter 158086 "delay" explicit_type "double"
	 multiplicity "1" unordered 
	in
	comment "S.1 Standalone Application "
	flow 243462 "S.1.9"
	  on pin_ref 238086 // delay
	end
      end

      activitypartition 128006 "Reconstructor"
      end

      activitypartition 128134 "Application"
      end
    end

    activity 168710 "S.7 Initialize"
      activitydiagram 221830 "S.7 Initialize"
	activitydiagramsettings
	 end
	size A4
      end

      parameter 164742 "exchange_name" explicit_type "string"
	 multiplicity "1" unordered 
	in
	flow 241670 "S.7.3"
	  on activityobject_ref 141190 // activity object exchange_name
	end
      end

      parameter 164870 "pair_name" explicit_type "string"
	 multiplicity "1" unordered 
	in
	flow 241798 "S.7.4"
	  on activityobject_ref 141318 // activity object pair_name
	end
      end

      parameter 164998 "delay" explicit_type "double"
	 multiplicity "1" unordered 
	in
	flow 244742 "S.7.5"
	  on pin_ref 239238 // delay
	end
      end

      parameter 165126 "reconstructor" type class_ref 202630 // Reconstructor
	 multiplicity "1" unordered 
	out
      end

      parameter 165254 "websocket" explicit_type ""
	 multiplicity "1" unordered 
	out
      end

      parameter 165382 "destination" explicit_type ""
	unordered 
	in
	flow 242182 "S.7.2"
	  on pin_ref 236294 // destination
	end
      end

      activityobject 141190 "exchange_name"
	stereotype "datastore"
	 explicit_type "string"
	 multiplicity "1" unordered 
	flow 241926 "S.7.6"
	  on pin_ref 236550 // exchange_name
	end

	flow 242950 "S.7.7"
	  on pin_ref 237574 // exchange_name
	end

	flow 244358 "S.7.8"
	  on pin_ref 238854 // exchange_name
	end
      end

      activityobject 141318 "pair_name"
	stereotype "datastore"
	 explicit_type "string"
	 multiplicity "1" unordered 
	flow 242054 "S.7.10"
	  on pin_ref 236422 // pair_name
	end

	flow 243078 "S.7.9"
	  on pin_ref 237446 // pair_name
	end

	flow 244486 "S.7.14"
	  on pin_ref 238982 // pair_name
	end
      end

      activityaction 213254 "S.7 Create a store for Limit Order Book"
	call_behavior_action
	no_behavior
	pin 236294 "destination" explicit_type "string"
	   multiplicity "1" unordered 
	  in
	end

	pin 236422 "pair_name" explicit_type "string"
	   multiplicity "1" unordered 
	  in
	end

	pin 236550 "exchange_name" explicit_type "string"
	   multiplicity "1" unordered 
	  in
	end

	pin 236678 "store" type class_ref 231302 // Store
	   multiplicity "1" unordered is_control
	  out
	  flow 244614 "S.7.11"
	    on pin_ref 239110 // store
	  end
	end
      end

      activityaction 213382 "S.7 Create Order Book Reconstructor"
	call_operation_action
	synchronous operation_ref 238982 // create
	pin 238726 "" type class_ref 202630 // Reconstructor
	   multiplicity "1" unordered 
	  return
	  flow 244870 "S.7.13"
	    on parameter_ref 165126 // reconstructor
	  end
	end

	pin 238854 "exchange_name" explicit_type "string"
	   multiplicity "1" unordered 
	  in
	end

	pin 238982 "pair_name" explicit_type "string"
	   multiplicity "1" unordered 
	  in
	end

	pin 239110 "store" type class_ref 231302 // Store
	   multiplicity "1" unordered is_control
	  in
	end

	pin 239238 "delay" explicit_type "double"
	   multiplicity "1" unordered 
	  in
	end

	flow 251782 "S.7.15"
	  on activityaction_ref 213510 // activity action S.7 Subscribe
	end
      end

      activityaction 213510 "S.7 Subscribe"
	call_behavior_action
	no_behavior
	pin 237446 "pair_name" explicit_type "string"
	   multiplicity "1" unordered 
	  in
	end

	pin 237574 "exchange_name" explicit_type "string"
	   multiplicity "1" unordered 
	  in
	end

	pin 237702 "websocket" explicit_type "Websocket"
	   multiplicity "1" unordered 
	  out
	  flow 243206 "S.7.12"
	    on parameter_ref 165254 // websocket
	  end
	end
      end

      activitynode 203142 initial_node ""
	flow 242310 "S.7.1"
	  on activityaction_ref 213254 // activity action S.7 Create a store for Limit Order Book
	end
      end
    end
  end

  classview 154246 "Standalone application"
    
    classdiagramsettings member_max_width 0 end
    
    classcompositediagramsettings end
    
    collaborationdiagramsettings end
    
    objectdiagramsettings end
    
    objectcompositediagramsettings end
    
    sequencediagramsettings end
    
    statediagramsettings
     end
    
    
    activitydiagramsettings
     end
    associated_deployment_view deploymentview_ref 160774 // Source files
    classdiagram 208774 "Store"
      classdiagramsettings member_max_width 0 end
      size A4
    end

    class 229510 "File"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      operation 232070 "transmit"
	cpp_virtual public explicit_return_type "void"
	nparams 1
	  param in name "event" type class_ref 230406 // Event
	multiplicity "1"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      classrelation 190470 // <generalisation>
	relation 190342 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 190470 // <generalisation>
	  b parent class_ref 231302 // Store
      end
    end

    class 229638 "Database"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      operation 231942 "transmit"
	cpp_virtual public explicit_return_type "void"
	nparams 1
	  param in name "event" type class_ref 230406 // Event
	multiplicity "1"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end

      classrelation 190342 // <generalisation>
	relation 190214 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 190342 // <generalisation>
	  b parent class_ref 231302 // Store
      end
    end

    class 237830 "Process"
      visibility package 
      cpp_decl "${comment}${template}class ${name}${inherit} {
${members}};
${inlines}
"
      java_decl ""
      php_decl ""
      python_2_2 python_decl ""
      idl_decl ""
      explicit_switch_type ""
      mysql_decl ""
      
      classrelation 197254 // <generalisation>
	relation 197126 ---|>
	  a public
	    cpp default "${type}"
	    classrelation_ref 197254 // <generalisation>
	  b parent class_ref 231302 // Store
      end

      operation 252038 "transmit"
	cpp_virtual public explicit_return_type "void"
	nparams 1
	  param in name "event" type class_ref 230406 // Event
	multiplicity "1"
	cpp_decl "    ${comment}${friend}${static}${inline}${virtual}${typeprefix}${type} ${name}${(}const ${t0} & ${p0}${v0}${)}${const}${volatile}${throw}${abstract};
"
	cpp_def "${comment}${inline}${typeprefix}${type} ${class}::${name}${(}const ${t0} & ${p0}${)}${const}${volatile}${throw}${staticnl}{
  ${body}}
"
	
	
	
	
      end
    end
  end

  deploymentview 160774 "Source files"
    //deployment diagram settings
    deploymentdiagramsettings
     end
    artifact 173702 "general"
      stereotype "source"
      cpp_h "#ifndef ${NAMESPACE}_${NAME}_H
#define ${NAMESPACE}_${NAME}_H

${comment}
${includes}
${declarations}
${namespace_start}
${definition}
${namespace_end}
#endif
"
      cpp_src "${comment}
${includes}
${namespace_start}
${members}
${namespace_end}"
      associated_elems
      end
    end

    artifact 174214 "standalone"
      stereotype "executable"
      associated_artifacts
	artifact_ref 173702 // general
      end
      ncouples 10
      key "genpro pro" value "/home/petr/repos/oberon/cpp/oberon.pro"
      key "genpro path" value "/home/petr/repos/oberon/cpp"
      key "genpro target" value "/home/petr/repos/oberon/cpp/oberon"
      key "genpro tmplt" value "app"
      key "genpro config" value "debug warn_on qt"
      key "genpro defines" value "WITHCPP WITHJAVA WITHPHP WITHPYTHON WITHIDL WITHMYSQL"
      key "genpro includepath" value ""
      key "genpro dependpath" value ""
      key "genpro objectsdir" value ""
      key "genpro footer" value "QT += network  qt3support"
    end
  end
end
